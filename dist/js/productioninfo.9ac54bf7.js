(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["productioninfo"],{"417c":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-supplier-info abs scroll-y"},[i("div",{staticClass:"form-content"},[i("div",{staticClass:"b f-18 flex-v-center",staticStyle:{"margin-bottom":"20px"}},[i("icon-btn",{staticClass:"mr-15",on:{click:function(e){t.$store.commit("DELMENUTABS","/production/info"),t.$router.back()}}},[t._v("arrow_back")]),i("div",{staticClass:"flex-item"},[t._v("收款记录")]),i("div",{staticClass:"flex-item ml-20"},[i("a",{staticClass:"a",staticStyle:{color:"#008eff"},attrs:{flat:"",href:"javascript:;"},on:{click:function(e){return t.addPay()}}},[t._v("新增收款记录")])])],1),i("table",{staticClass:"f-14"},[t._m(0),t._m(1),t._l(t.payList,(function(e){return i("tr",{key:e.id},[i("td",[t._v(t._s(e.orderNo))]),i("td",[t._v(t._s(e.invoiceNo))]),i("td",[t._v(t._s(e.amount.toLocaleString()))]),i("td",[t._v(t._s(e.payTime))]),i("td",[t._v(t._s(e.createUserId))]),i("td",[t._v(t._s(e.createTime))]),i("td",[t._v(t._s(e.updateTime))])])}))],2),i("div",{directives:[{name:"show",rawName:"v-show",value:t.addFlag,expression:"addFlag"}]},[i("div",{staticClass:"b",staticStyle:{margin:"20px 0 10px"}},[t._v("收款记录添加")]),i("div",{staticClass:"card flex",staticStyle:{"margin-top":"0"}},[i("div",{staticClass:"flex-item"},[i("div",{staticClass:"flex"},[i("input-box",{staticClass:"flex-item mr-10",attrs:{disabled:"",hint:"必填",label:"合同订单号"},model:{value:t.order.orderNo,callback:function(e){t.$set(t.order,"orderNo",e)},expression:"order.orderNo"}}),i("input-box",{staticClass:"flex-item mr-10",attrs:{label:"发票编号"},model:{value:t.order.invoiceNo,callback:function(e){t.$set(t.order,"invoiceNo",e)},expression:"order.invoiceNo"}}),i("input-box",{staticClass:"flex-item mr-10",attrs:{type:"number",hint:"必填",label:"总金额"},model:{value:t.order.amount,callback:function(e){t.$set(t.order,"amount",e)},expression:"order.amount"}})],1),i("div",{staticClass:"flex"},[i("date-picker",{staticClass:"flex-item mr-10",staticStyle:{"margin-right":"20px"},attrs:{hint:"必填",label:"收款日期"},model:{value:t.order.payTime,callback:function(e){t.$set(t.order,"payTime",e)},expression:"order.payTime"}})],1),i("div",{staticClass:"flex-item",staticStyle:{"text-align":"center"}},[i("button",{staticClass:"btn btn-sm",on:{click:function(e){return t.save()}}},[t._v("保存")])])])])])])])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",{staticStyle:{border:"1px solid #ddd"}},[i("td",{staticStyle:{width:"15%"}}),i("td",{staticStyle:{width:"15%"}}),i("td",{staticStyle:{width:"15%"}}),i("td",{staticStyle:{width:"15%"}}),i("td",{staticStyle:{width:"15%"}}),i("td",{staticStyle:{width:"15%"}}),i("td",{staticStyle:{width:"10%"}})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",[i("th",[t._v("订单号")]),i("th",[t._v("发票编号")]),i("th",[t._v("总金额(￥)")]),i("th",[t._v("打款日期")]),i("th",[t._v("录入人")]),i("th",[t._v("创建日期")]),i("th",[t._v("更新日期")])])}],r={name:"purchsemanage-prodinfo",data:function(){return{loading:!1,info:{},itemList:[],orderUrl:"",detailFlag:!0,addFlag:!1,payList:{},order:{amount:"",orderNo:"",payTime:"",invoiceNo:"",orderType:2}}},activated:function(){this.info={},this.itemList=[],this.orderUrl="",this.detailFlag=!0,this.addFlag=!1,this.payList={},this.order={amount:"",orderNo:"",payTime:"",invoiceNo:"",orderType:2},this.payClick()},created:function(){this.payClick()},methods:{payClick:function(){var t=this,e=this.$route.query.orderNo;this.order.orderNo=e,this.detailFlag=!1,this.payFlag=!0,this.$http.get("/haolifa/payment/list?orderNo=".concat(e)).then((function(e){t.payList=e})).catch((function(e){t.$toast(e.msg)}))},addPay:function(){this.detailFlag=!1,this.addFlag=!0},save:function(){var t=this;this.order.orderNo?this.order.amount?this.order.payTime?(this.order.orderType=parseInt(this.order.orderType),this.$http.post("/haolifa/payment/save",this.order).then((function(e){t.$toast("提交成功"),t.order.amount="",t.order.payTime="",t.order.invoiceNo="",t.addFlag=!1,t.payClick(t.order.orderNo)})).catch((function(e){t.$toast(e.message||e.msg)}))):this.$toast("请选择收款日期"):this.$toast("请填写总金额"):this.$toast("请填写合同订单号")}}},o=r,n=(i("d184"),i("cba8")),d=Object(n["a"])(o,a,s,!1,null,null,null);e["default"]=d.exports},a664:function(t,e,i){},d184:function(t,e,i){"use strict";i("a664")}}]);
//# sourceMappingURL=productioninfo.9ac54bf7.js.map