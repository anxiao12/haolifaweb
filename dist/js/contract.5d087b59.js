(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["contract"],{"085f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-cashAccounting-list"},[e("i",{staticClass:"icon icon-abs",on:{click:t.flush}},[t._v("autorenew")]),e("div",{staticClass:"flex-v-center tool-bar"},[e("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.deptName,expression:"filter.deptName"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"借款部门"},domProps:{value:t.filter.deptName},on:{change:function(e){return t.$refs.list.update(!0)},input:function(e){e.target.composing||t.$set(t.filter,"deptName",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.loanUserName,expression:"filter.loanUserName"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"借款人"},domProps:{value:t.filter.loanUserName},on:{change:function(e){return t.$refs.list.update(!0)},input:function(e){e.target.composing||t.$set(t.filter,"loanUserName",e.target.value)}}}),t._v("\n            付款状态:\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.payStatus,expression:"filter.payStatus"}],staticClass:"f-14",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"payStatus",e.target.multiple?a:a[0])},function(e){return t.$refs.list.update(!0)}]}},[e("option",{attrs:{value:""}},[t._v("全部")]),e("option",{attrs:{value:"1"}},[t._v("未付款")]),e("option",{attrs:{value:"2"}},[t._v("付款中")]),e("option",{attrs:{value:"3"}},[t._v("付款完成")])]),t._v("\n            审批状态:\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.applyStatus,expression:"filter.applyStatus"}],staticClass:"f-14",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"applyStatus",e.target.multiple?a:a[0])},function(e){return t.$refs.list.update(!0)}]}},[e("option",{attrs:{value:""}},[t._v("全部")]),e("option",{attrs:{value:"1"}},[t._v("待审批")]),e("option",{attrs:{value:"2"}},[t._v("审批中")]),e("option",{attrs:{value:"3"}},[t._v("审批通过")]),e("option",{attrs:{value:"4"}},[t._v("审批不通过")])]),t._v("\n            状态:\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.status,expression:"filter.status"}],staticClass:"f-14",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"status",e.target.multiple?a:a[0])},function(e){return t.$refs.list.update(!0)}]}},[e("option",{attrs:{value:""}},[t._v("全部")]),e("option",{attrs:{value:"1"}},[t._v("待办")]),e("option",{attrs:{value:"2"}},[t._v("已办")])])]),e("div",{staticClass:"flex-item"}),e("btn",{staticClass:"b",attrs:{flat:"",color:"#008eff"},on:{click:function(e){return t.add()}}},[t._v("新增")])],1),e("div",{staticClass:"flex-item scroll-y"},[e("data-list",{ref:"list",attrs:{"page-size":15,param:t.filter,url:"/haolifa/finance/loanapply/getLoanList",method:"post"},scopedSlots:t._u([{key:"item",fn:function(a){var s=a.item,i=a.index;return[e("td",{staticClass:"c-a"},[t._v(t._s(i))]),e("td",[t._v(t._s(s.serialNo))]),e("td",[t._v(t._s(s.deptName))]),e("td",[t._v(t._s(s.loanUserName))]),e("td",[t._v(t._s(s.amount))]),e("td",[t._v(t._s(s.paymentAmount))]),e("td",[t._v(t._s(s.owedAmount))]),e("td",[t._v(t._s(s.amountTypeCN))]),e("td",[t._v(t._s(s.loanDate))]),e("td",[t._v(t._s(s.expectRepaymentDate))]),e("td",[t._v(t._s(s.accountName))]),e("td",[t._v(t._s(s.payCompany))]),e("td",[t._v(t._s(s.payAccount))]),e("td",[t._v(t._s(s.purpose))]),e("td",[t._v(t._s(s.remark))]),e("td",[t._v(t._s(s.applyStatusCN))]),e("td",[t._v(t._s(s.payStatusCN))]),e("td",[t._v(t._s(s.createTime))]),e("td",{staticClass:"t-right"},[1==s.applyStatus||4==s.applyStatus?e("a",{staticClass:"blue",attrs:{href:"javascript:;"},on:{click:function(e){return t.edit(s)}}},[t._v("编辑 | ")]):t._e(),1==s.applyStatus||4==s.applyStatus?e("a",{staticClass:"blue",attrs:{href:"javascript:;"},on:{click:function(e){return t.approve(s)}}},[t._v("发起审批 | ")]):t._e(),1==s.applyStatus||4==s.applyStatus?e("a",{staticClass:"red",attrs:{href:"javascript:;"},on:{click:function(e){return t.remove(s)}}},[t._v("删除")]):t._e()])]}}])},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("编号")]),e("th",[t._v("借款部门")]),e("th",[t._v("借款人")]),e("th",[t._v("借款金额")]),e("th",[t._v("还款金额")]),e("th",[t._v("余欠金额")]),e("th",[t._v("资金性质")]),e("th",[t._v("借款日期")]),e("th",[t._v("预计还款日期")]),e("th",[t._v("户名")]),e("th",[t._v("付款单位")]),e("th",[t._v("付款账户")]),e("th",[t._v("用途")]),e("th",[t._v("备注")]),e("th",[t._v("审批节点")]),e("th",[t._v("付款状态")]),e("th",[t._v("创建时间")]),e("th",{staticClass:"t-right",staticStyle:{width:"80px"}},[t._v("操作")])])])],1),t.layer?e("layer",{attrs:{title:t.form.id?"借款编辑":"借款新增",width:"50%"}},[e("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"户名"},model:{value:t.form.accountName,callback:function(e){t.$set(t.form,"accountName",e)},expression:"form.accountName"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"借款金额"},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}}),e("select-box",{staticClass:"flex-item mr-20",attrs:{list:t.deptList,label:"部门"},model:{value:t.form.deptId,callback:function(e){t.$set(t.form,"deptId",e)},expression:"form.deptId"}})],1),e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{list:t.amountTypeList,label:"资金性质"},model:{value:t.form.amountType,callback:function(e){t.$set(t.form,"amountType",e)},expression:"form.amountType"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"开户行"},model:{value:t.form.bankOfDeposit,callback:function(e){t.$set(t.form,"bankOfDeposit",e)},expression:"form.bankOfDeposit"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"卡号"},model:{value:t.form.cardNumber,callback:function(e){t.$set(t.form,"cardNumber",e)},expression:"form.cardNumber"}})],1),e("div",{staticClass:"flex"},[e("date-picker",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"借款日期"},model:{value:t.form.loanDate,callback:function(e){t.$set(t.form,"loanDate",e)},expression:"form.loanDate"}}),e("date-picker",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"预计还款日期"},model:{value:t.form.expectRepaymentDate,callback:function(e){t.$set(t.form,"expectRepaymentDate",e)},expression:"form.expectRepaymentDate"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"用途"},model:{value:t.form.purpose,callback:function(e){t.$set(t.form,"purpose",e)},expression:"form.purpose"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"备注摘要"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)]),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.save}},[t._v("保存")]),e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.close}},[t._v("关闭")])],1)]):t._e()],1)},i=[],l=a("9b68"),o={name:"cashAccounting",components:{DataList:l["a"]},data:function(){return{filter:{applyStatus:"",deptName:"",loanUserName:"",payCompany:"",payStatus:"",serialNo:"",status:"",type:"1"},layer:!1,layer2:!1,form:{accountName:"",amount:0,amountType:"1",bankOfDeposit:"",cardNumber:"",deptId:"",expectRepaymentDate:"",loanDate:"",purpose:"",remark:""},typeList:[{text:"收款",value:"1"},{text:"付款",value:"2"}],amountTypeList:[{text:"现金",value:"1"},{text:"支票",value:"2"}],statusList:[],acceptList:[],blankList:[],deptList:[],payList:[{text:"电汇",value:"电汇"},{text:"支票",value:"支票"},{text:"汇票",value:"汇票"},{text:"现金",value:"现金"},{text:"其它",value:"其它"},{text:"承兑",value:"承兑"}],accountList:[]}},mounted:function(){this.getPayType(),this.getAcceptType(),this.getDeptList(),this.getAccount()},methods:{flush:function(){this.filter={applyStatus:"",deptName:"",loanUserName:"",payCompany:"",payStatus:"",serialNo:"",status:"",type:"1"},this.$refs.list.update(!0)},getPayType:function(){var t=this;this.$http.get("/haolifa/sys-dict/getDictListByType/PAYMENT_TYPE").then((function(e){e.map((function(e){t.statusList.push({text:e.desc,value:e.code})}))})).catch((function(e){t.$toast(e.msg||e.message)}))},getPayName:function(t){var e="";return this.statusList.map((function(a){a.value==t&&(e=a.text)})),e},getAcceptType:function(){var t=this;this.$http.get("/haolifa/sys-dict/getDictListByType/COLLECTION_TYPE").then((function(e){e.map((function(e){t.acceptList.push({text:e.desc,value:e.code})}))})).catch((function(e){t.$toast(e.msg||e.message)}))},getAccName:function(t){var e="";return this.acceptList.map((function(a){a.value==t&&(e=a.text)})),e},getDeptList:function(){var t=this;this.$http.get("/haolifa/dept/list").then((function(e){e.map((function(e){t.deptList.push({text:e.deptName,value:e.id+""})}))})).catch((function(e){t.$toast(e.msg||e.message)}))},getAccount:function(){var t=this;this.accountList=[],this.$http.get("/haolifa/sys-dict/getDictListByType/PAY_ACCOUNT").then((function(e){e.map((function(e){t.accountList.push({text:e.desc,value:e.desc})}))}))},edit:function(t){this.layer=!0,this.form.id=t.id,this.form.accountName=t.accountName,this.form.amount=t.amount,this.form.amountType=t.amountType,this.form.bankOfDeposit=t.bankOfDeposit,this.form.cardNumber=t.cardNumber,this.form.deptId=t.deptId,this.form.expectRepaymentDate=t.expectRepaymentDate,this.form.loanDate=t.loanDate,this.form.purpose=t.purpose,this.form.remark=t.remark},remove:function(t){var e=this;this.$confirm({title:"删除确认",text:"您确定要删除吗？",color:"red",btns:["取消","删除"],yes:function(){e.$http.get("/haolifa/finance/loanapply/delete/".concat(t.id)).then((function(t){e.$toast("删除成功"),e.$refs.list.update(!0)})).catch((function(t){e.$toast(t.msg||t.message)}))}})},approve:function(t){var e=this;this.$confirm({title:"发起审批确认",text:"您确定要发起审批吗？",color:"red",btns:["取消","发起审批"],yes:function(){e.$http.get("/haolifa/finance/loanapply/approve/".concat(t.id)).then((function(t){e.$toast("发起审批成功"),e.$refs.list.update(!0)})).catch((function(t){e.$toast(t.msg||t.message)}))}})},add:function(t){this.layer=!0},save:function(){var t=this,e=this.form.id?"/haolifa/finance/loanapply/updateLoan":"/haolifa/finance/loanapply/save";this.$http.post(e,this.form).then((function(e){t.close(),t.$toast("保存成功"),t.$refs.list.update(!0)})).catch((function(e){t.$toast(e.msg||e.message)}))},close:function(){this.layer=this.layer2=!1,this.form={accountName:"",amount:0,amountType:"1",bankOfDeposit:"",cardNumber:"",deptId:"",expectRepaymentDate:"",loanDate:"",purpose:"",remark:""}}}},r=o,n=(a("e6ec"),a("0b56")),c=Object(n["a"])(r,s,i,!1,null,null,null);e["default"]=c.exports},"1b82":function(t,e,a){},"1c74":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-cashAccounting-list"},[e("i",{staticClass:"icon icon-abs",on:{click:t.flush}},[t._v("autorenew")]),e("div",{staticClass:"flex-v-center tool-bar"},[e("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.certificateNumber,expression:"filter.certificateNumber"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"凭证号"},domProps:{value:t.filter.certificateNumber},on:{change:function(e){return t.$refs.list.update(!0)},input:function(e){e.target.composing||t.$set(t.filter,"certificateNumber",e.target.value)}}}),t._v("\n            付款类别:\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.paymentType,expression:"filter.paymentType"}],staticClass:"f-14",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"paymentType",e.target.multiple?a:a[0])},function(e){return t.$refs.list.update(!0)}]}},[e("option",{attrs:{value:""}},[t._v("全部")]),t._l(t.statusList,(function(a){return e("option",{key:a.id,domProps:{value:a.value}},[t._v(t._s(a.text))])}))],2),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.collectionCompany,expression:"filter.collectionCompany"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"收款单位"},domProps:{value:t.filter.collectionCompany},on:{change:function(e){return t.$refs.list.update(!0)},input:function(e){e.target.composing||t.$set(t.filter,"collectionCompany",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.paymentCompany,expression:"filter.paymentCompany"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"付款单位"},domProps:{value:t.filter.paymentCompany},on:{change:function(e){return t.$refs.list.update(!0)},input:function(e){e.target.composing||t.$set(t.filter,"paymentCompany",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.deptName,expression:"filter.deptName"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"部门"},domProps:{value:t.filter.deptName},on:{change:function(e){return t.$refs.list.update(!0)},input:function(e){e.target.composing||t.$set(t.filter,"deptName",e.target.value)}}}),t._v("\n            银行账户:\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.payAccount,expression:"filter.payAccount"}],staticClass:"f-14",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"payAccount",e.target.multiple?a:a[0])},function(e){return t.$refs.list.update(!0)}]}},[e("option",{attrs:{value:""}},[t._v("全部")]),t._l(t.accountList,(function(a,s){return e("option",{attrs:{index:s},domProps:{value:a.text}},[t._v(t._s(a.text))])}))],2)]),e("div",{staticClass:"flex-item"}),e("btn",{staticClass:"b",attrs:{flat:"",color:"#008eff"},on:{click:t.add}},[t._v("新增")])],1),e("div",{staticClass:"flex-item scroll-y"},[e("data-list",{ref:"list",attrs:{"page-size":15,param:t.filter,url:"/haolifa/finance/bill/getBillList",method:"post"},scopedSlots:t._u([{key:"item",fn:function(a){var s=a.item,i=a.index;return[e("td",{staticClass:"c-a"},[t._v(t._s(i))]),e("td",[t._v(t._s(s.d))]),e("td",[t._v(t._s(s.certificateNumber))]),e("td",[t._v(t._s(s.collectionMoney))]),e("td",[t._v(t._s(s.string1))]),e("td",[t._v(t._s(t.getAccName(s.collectionType)))]),e("td",[t._v(t._s(s.payment))]),e("td",[t._v(t._s(s.string2))]),e("td",[t._v(t._s(t.getPayName(s.paymentType)))]),e("td",[t._v(t._s(s.preMonthMoney))]),e("td",[t._v(t._s(s.balance))]),e("td",[t._v(t._s(s.departmentDTO?s.departmentDTO.deptName:""))]),e("td",[t._v(t._s(s.contractUser))]),e("td",[t._v(t._s(s.createTime))]),e("td",[t._v(t._s(s.remark))])]}}])},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("日期")]),e("th",[t._v("凭证号")]),e("th",[t._v("收款")]),e("th",[t._v("收款单位")]),e("th",[t._v("收款类别")]),e("th",[t._v("付款")]),e("th",[t._v("付款单位")]),e("th",[t._v("付款类别")]),e("th",[t._v("上月结转")]),e("th",[t._v("余额")]),e("th",[t._v("部门")]),e("th",[t._v("经办人")]),e("th",[t._v("创建时间")]),e("th",[t._v("备注")])])])],1),t.layer?e("layer",{attrs:{title:t.form.id?"编辑":"新增",width:"70%"}},[e("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[e("div",{staticClass:"flex"},[e("date-picker",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{hint:"必填",label:"日期"},model:{value:t.form.d,callback:function(e){t.$set(t.form,"d",e)},expression:"form.d"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"凭证号"},model:{value:t.form.certificateNumber,callback:function(e){t.$set(t.form,"certificateNumber",e)},expression:"form.certificateNumber"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"收款"},model:{value:t.form.collectionMoney,callback:function(e){t.$set(t.form,"collectionMoney",e)},expression:"form.collectionMoney"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"收款单位"},model:{value:t.form.string1,callback:function(e){t.$set(t.form,"string1",e)},expression:"form.string1"}})],1),e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{hint:"必填",list:t.acceptList,label:"收款类别"},model:{value:t.form.collectionType,callback:function(e){t.$set(t.form,"collectionType",e)},expression:"form.collectionType"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"付款"},model:{value:t.form.payment,callback:function(e){t.$set(t.form,"payment",e)},expression:"form.payment"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"付款单位"},model:{value:t.form.string2,callback:function(e){t.$set(t.form,"string2",e)},expression:"form.string2"}}),e("select-box",{staticClass:"flex-item mr-20",attrs:{hint:"必填",list:t.statusList,label:"付款类别"},model:{value:t.form.paymentType,callback:function(e){t.$set(t.form,"paymentType",e)},expression:"form.paymentType"}})],1),e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{hint:"必填",list:t.deptList,label:"所属部门"},model:{value:t.form.deptId,callback:function(e){t.$set(t.form,"deptId",e)},expression:"form.deptId"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"备注"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)]),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.save}},[t._v("保存")]),e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.close}},[t._v("关闭")])],1)]):t._e()],1)},i=[],l=a("9b68"),o={name:"cashAccounting",components:{DataList:l["a"]},data:function(){return{filter:{certificateNumber:"",collectionCompany:"",deptId:"",deptName:"",paymentCompany:"",paymentType:"",payAccount:""},layer:!1,form:{balance:0,certificateNumber:"",clearingBanks:"",collectionMoney:0,collectionType:"",d:"",deptId:"",payment:0,paymentType:"",preMonthMoney:0,remark:"",settlementType:"",status:"",string1:"",string10:"",string2:"",string3:"",string4:"",string5:"",string6:"",string7:"",string8:"",string9:"",type:"1",xh:""},typeList:[{text:"生产",value:"生产"},{text:"管理",value:"管理"}],statusList:[],acceptList:[],accountList:[],deptList:[]}},mounted:function(){this.getPayType(),this.getAcceptType(),this.getDeptList(),this.getAccount()},methods:{flush:function(){this.filter={certificateNumber:"",collectionCompany:"",deptId:"",deptName:"",paymentCompany:"",paymentType:""},this.$refs.list.update(!0)},getAccount:function(){var t=this;this.accountList=[],this.$http.get("/haolifa/sys-dict/getDictListByType/PAY_ACCOUNT").then((function(e){e.map((function(e){t.accountList.push({text:e.desc,value:e.desc})}))}))},getPayType:function(){var t=this;this.$http.get("/haolifa/sys-dict/getDictListByType/PAYMENT_TYPE").then((function(e){e.map((function(e){t.statusList.push({text:e.desc,value:e.code})}))})).catch((function(e){t.$toast(e.msg||e.message)}))},getPayName:function(t){var e="";return this.statusList.map((function(a){a.value==t&&(e=a.text)})),e},getAcceptType:function(){var t=this;this.$http.get("/haolifa/sys-dict/getDictListByType/COLLECTION_TYPE").then((function(e){e.map((function(e){t.acceptList.push({text:e.desc,value:e.code})}))})).catch((function(e){t.$toast(e.msg||e.message)}))},getAccName:function(t){var e="";return this.acceptList.map((function(a){a.value==t&&(e=a.text)})),e},getDeptList:function(){var t=this;this.$http.get("/haolifa/dept/list").then((function(e){e.map((function(e){t.deptList.push({text:e.deptName,value:e.id})}))})).catch((function(e){t.$toast(e.msg||e.message)}))},edit:function(t){this.layer=!0,this.form.id=t.id,this.form.d=t.d,this.form.collectionType=t.collectionType,this.form.payment=t.payment,this.form.paymentType=t.paymentType,this.form.string1=t.string1,this.form.deptId=t.departmentDTO.id,this.form.certificateNumber=t.certificateNumber,this.form.collectionMoney=t.collectionMoney,this.form.string2=t.string2,this.form.remark=t.remark},remove:function(t){var e=this;this.$confirm({title:"删除确认",text:"您确定要删除吗？",color:"red",btns:["取消","删除"],yes:function(){e.$http.get("/haolifa/finance/bill/delete/".concat(t.id)).then((function(t){e.$toast("删除成功"),e.$refs.list.update(!0)})).catch((function(t){e.$toast(t.msg||t.message)}))}})},add:function(){this.layer=!0},save:function(){var t=this;this.$confirm({title:"确认",text:"请确认数据是否正确，保存后无法修改",color:"red",btns:["取消","确认"],yes:function(){var e=t.form.id?"/haolifa/finance/bill/updateBizbill":"/haolifa/finance/bill/save";t.$http.post(e,t.form).then((function(e){t.close(),t.$toast("保存成功"),t.$refs.list.update(!0)})).catch((function(e){t.$toast(e.msg||e.message)}))}})},close:function(){this.layer=!1,this.form={balance:0,certificateNumber:"",clearingBanks:"",collectionMoney:0,collectionType:"",d:"",deptId:"",payment:0,paymentType:"",preMonthMoney:0,remark:"",settlementType:"",status:"",string1:"",string10:"",string2:"",string3:"",string4:"",string5:"",string6:"",string7:"",string8:"",string9:"",type:"1",xh:""}}}},r=o,n=(a("53df"),a("0b56")),c=Object(n["a"])(r,s,i,!1,null,null,null);e["default"]=c.exports},"1f22":function(t,e,a){},"380b":function(t,e,a){"use strict";a.r(e);a("a450");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-cashAccounting-list"},[e("i",{staticClass:"icon icon-abs",on:{click:t.flush}},[t._v("autorenew")]),e("div",{staticClass:"flex-v-center tool-bar"},[e("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.deptName,expression:"filter.deptName"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"报销部门"},domProps:{value:t.filter.deptName},on:{change:function(e){return t.$refs.list.update(!0)},input:function(e){e.target.composing||t.$set(t.filter,"deptName",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.reimburseUser,expression:"filter.reimburseUser"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"报销人"},domProps:{value:t.filter.reimburseUser},on:{change:function(e){return t.$refs.list.update(!0)},input:function(e){e.target.composing||t.$set(t.filter,"reimburseUser",e.target.value)}}}),t._v("\n            报销类型:\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.type,expression:"filter.type"}],staticClass:"f-14",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"type",e.target.multiple?a:a[0])},function(e){return t.$refs.list.update(!0)}]}},[e("option",{attrs:{value:""}},[t._v("全部")]),e("option",{attrs:{value:"1"}},[t._v("差旅报销")]),e("option",{attrs:{value:"2"}},[t._v("费用报销")])])]),e("div",{staticClass:"flex-item"}),e("btn",{staticClass:"b",attrs:{flat:"",color:"#008eff"},on:{click:function(e){return t.add()}}},[t._v("新增")])],1),e("div",{staticClass:"flex-item scroll-y"},[e("data-list",{ref:"list",attrs:{"page-size":15,param:t.filter,url:"/haolifa/finance/reimburseapply/getReimburseApplyBillList",method:"post"},scopedSlots:t._u([{key:"item",fn:function(a){var s=a.item,i=a.index;return[e("td",{staticClass:"c-a"},[t._v(t._s(i))]),e("td",[t._v(t._s(s.reimburseUserName))]),e("td",[t._v(t._s(s.amount))]),e("td",[t._v(t._s(s.typeCN))]),e("td",[t._v(t._s(s.reimburseTypeCN))]),e("td",[t._v(t._s(s.deptName))]),e("td",[t._v(t._s(s.accountName))]),e("td",[t._v(t._s(s.cardNumber))]),e("td",[t._v(t._s(s.payStatusCN))]),e("td",[t._v(t._s(s.applyStatusCN))]),e("td",[t._v(t._s(s.createTime))]),e("td",[t._v(t._s(s.remark))]),e("td",{staticClass:"t-right"},[0==s.applyStatus?e("a",{staticClass:"blue",attrs:{href:"javascript:;"},on:{click:function(e){return t.approve(s)}}},[t._v("发起审批 | ")]):t._e(),0==s.applyStatus?e("a",{staticClass:"blue",attrs:{href:"javascript:;"},on:{click:function(e){return t.edit(s)}}},[t._v("编辑 | ")]):t._e(),0==s.applyStatus?e("a",{staticClass:"red",attrs:{href:"javascript:;"},on:{click:function(e){return t.remove(s)}}},[t._v("删除 |")]):t._e(),e("a",{staticClass:"blue",attrs:{href:"javascript:;"},on:{click:function(e){return t.detail(s)}}},[t._v("详情")])])]}}])},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("报销人")]),e("th",[t._v("金额")]),e("th",[t._v("报销类型")]),e("th",[t._v("报销方式")]),e("th",[t._v("部门")]),e("th",[t._v("账户名")]),e("th",[t._v("卡号")]),e("th",[t._v("付款状态")]),e("th",[t._v("审批状态")]),e("th",[t._v("创建时间")]),e("th",[t._v("备注")]),e("th",{staticClass:"t-right",staticStyle:{width:"80px"}},[t._v("操作")])])])],1),t.layer?e("layer",{attrs:{title:t.form.id?"编辑":"新增",width:"80%"}},[e("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[e("el-descriptions",{staticClass:"margin-top",attrs:{column:2,size:"mini",border:""}},[e("el-descriptions-item",[e("template",{slot:"label"},[t._v("报销金额")]),e("el-input",{attrs:{disabled:!0},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}})],2),e("el-descriptions-item",[e("template",{slot:"label"},[t._v("户名")]),e("el-input",{model:{value:t.form.accountName,callback:function(e){t.$set(t.form,"accountName",e)},expression:"form.accountName"}})],2),e("el-descriptions-item",[e("template",{slot:"label"},[t._v("开户行")]),e("el-input",{model:{value:t.form.bankOfDeposit,callback:function(e){t.$set(t.form,"bankOfDeposit",e)},expression:"form.bankOfDeposit"}})],2),e("el-descriptions-item",[e("template",{slot:"label"},[t._v("卡号")]),e("el-input",{model:{value:t.form.cardNumber,callback:function(e){t.$set(t.form,"cardNumber",e)},expression:"form.cardNumber"}})],2),e("el-descriptions-item",[e("template",{slot:"label"},[t._v("报销日期")]),e("el-date-picker",{attrs:{size:"mini",clearable:!1,type:"date","value-format":"yyyy-MM-dd"},model:{value:t.form.reimburseDate,callback:function(e){t.$set(t.form,"reimburseDate",e)},expression:"form.reimburseDate"}})],2),e("el-descriptions-item",[e("template",{slot:"label"},[t._v("备注摘要")]),e("el-input",{model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],2),e("el-descriptions-item",[e("template",{slot:"label"},[t._v("报销方式")]),e("el-radio",{attrs:{label:"1"},model:{value:t.form.reimburseType,callback:function(e){t.$set(t.form,"reimburseType",e)},expression:"form.reimburseType"}},[t._v("普通报销")]),e("el-radio",{attrs:{label:"2"},model:{value:t.form.reimburseType,callback:function(e){t.$set(t.form,"reimburseType",e)},expression:"form.reimburseType"}},[t._v("借款冲抵")])],2),e("el-descriptions-item",[e("template",{slot:"label"},[t._v("报销类别")]),e("el-radio",{attrs:{label:"1"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[t._v("差旅报销")]),e("el-radio",{attrs:{label:"2"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[t._v("费用报销")])],2),2==t.form.reimburseType?e("el-descriptions-item",[e("template",{slot:"label"},[t._v("冲抵金额")]),e("el-input",{model:{value:t.form.offsetAmount,callback:function(e){t.$set(t.form,"offsetAmount",e)},expression:"form.offsetAmount"}})],2):t._e(),2==t.form.reimburseType?e("el-descriptions-item",[e("template",{slot:"label"},[t._v("借款")]),e("el-select",{attrs:{size:"mini",clearable:""},model:{value:t.form.loanId,callback:function(e){t.$set(t.form,"loanId",e)},expression:"form.loanId"}},t._l(t.borrowerList,(function(t,a){return e("el-option",{key:a,attrs:{label:t.owedAmount,value:t.id}})})),1)],2):t._e()],1),2==t.form.type?e("div",[e("p",{staticStyle:{color:"#018be6"}},[t._v("费用报销明细")]),e("el-button",{staticStyle:{position:"relative",top:"-38px",left:"140px"},attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.costAdd(2)}}},[t._v("添加")]),e("el-table",{staticStyle:{width:"100%"},attrs:{size:"mini",border:"",data:t.form.reimburseCostDetailAddDTOList}},[e("el-table-column",{attrs:{label:"金额"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{attrs:{size:"mini"},model:{value:a.row.amount,callback:function(e){t.$set(a.row,"amount",e)},expression:"scope.row.amount"}})]}}],null,!1,2386878601)}),e("el-table-column",{attrs:{label:"单据张数"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{attrs:{size:"mini"},model:{value:a.row.docNum,callback:function(e){t.$set(a.row,"docNum",e)},expression:"scope.row.docNum"}})]}}],null,!1,2177340603)}),e("el-table-column",{attrs:{label:"费用类别"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-select",{attrs:{size:"mini",clearable:""},on:{change:function(e){return t.subChange(a)}},model:{value:a.row.subjectsType,callback:function(e){t.$set(a.row,"subjectsType",e)},expression:"scope.row.subjectsType"}},t._l(t.subjectList,(function(t,a){return e("el-option",{key:a,attrs:{label:t.subjectsTypeName,value:t.subjectsTypeCode}})})),1)]}}],null,!1,558600522)}),e("el-table-column",{attrs:{label:"费用明细"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-select",{attrs:{size:"mini",clearable:""},on:{change:function(e){return t.subChange2(a)}},model:{value:a.row.subject,callback:function(e){t.$set(a.row,"subject",e)},expression:"scope.row.subject"}},t._l(a.row.subjectList2,(function(t,a){return e("el-option",{key:a,attrs:{label:t.name,value:t.subjectsId}})})),1)]}}],null,!1,1823675054)}),e("el-table-column",{attrs:{label:"余额"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{staticStyle:{color:"#409eff"},attrs:{disabled:!0,size:"mini"},model:{value:a.row.balanceAmount,callback:function(e){t.$set(a.row,"balanceAmount",e)},expression:"scope.row.balanceAmount"}})]}}],null,!1,3713274876)}),e("el-table-column",{attrs:{label:"日期"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-date-picker",{attrs:{size:"mini",clearable:!1,type:"date","value-format":"yyyy-MM-dd"},model:{value:a.row.time,callback:function(e){t.$set(a.row,"time",e)},expression:"scope.row.time"}})]}}],null,!1,4182030440)}),e("el-table-column",{attrs:{label:"备注"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{attrs:{size:"mini"},model:{value:a.row.remark,callback:function(e){t.$set(a.row,"remark",e)},expression:"scope.row.remark"}})]}}],null,!1,119805479)}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[t.form.reimburseCostDetailAddDTOList.length>1?e("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){return t.delCost(2,a.$index)}}},[t._v("删除")]):t._e()]}}],null,!1,2277448919)})],1)],1):t._e(),1==t.form.type?e("div",[e("p",{staticStyle:{color:"#018be6"}},[t._v("差旅费用报销明细")]),e("el-button",{staticStyle:{position:"relative",top:"-38px",left:"140px"},attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.costAdd(1)}}},[t._v("添加")]),e("el-table",{staticStyle:{width:"100%"},attrs:{size:"mini",border:"",data:t.form.reimburseTravelDetailAddDTOList}},[e("el-table-column",{attrs:{label:"金额"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{attrs:{size:"mini"},model:{value:a.row.projectAmount,callback:function(e){t.$set(a.row,"projectAmount",e)},expression:"scope.row.projectAmount"}})]}}],null,!1,4001386556)}),e("el-table-column",{attrs:{label:"单据张数"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{attrs:{size:"mini"},model:{value:a.row.projectDocNum,callback:function(e){t.$set(a.row,"projectDocNum",e)},expression:"scope.row.projectDocNum"}})]}}],null,!1,309985486)}),e("el-table-column",{attrs:{label:"项目"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-select",{attrs:{size:"mini"},model:{value:a.row.projectType,callback:function(e){t.$set(a.row,"projectType",e)},expression:"scope.row.projectType"}},t._l(t.projectList,(function(t,a){return e("el-option",{key:a,attrs:{label:t.desc,clearable:"",value:t.code}})})),1)]}}],null,!1,2802473836)}),e("el-table-column",{attrs:{label:"出发地"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{attrs:{size:"mini"},model:{value:a.row.depAddress,callback:function(e){t.$set(a.row,"depAddress",e)},expression:"scope.row.depAddress"}})]}}],null,!1,686906210)}),e("el-table-column",{attrs:{label:"出发日期"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-date-picker",{attrs:{size:"mini",clearable:!1,type:"date","value-format":"yyyy-MM-dd"},model:{value:a.row.depTime,callback:function(e){t.$set(a.row,"depTime",e)},expression:"scope.row.depTime"}})]}}],null,!1,396969945)}),e("el-table-column",{attrs:{label:"到达地"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{attrs:{size:"mini"},model:{value:a.row.arrAddress,callback:function(e){t.$set(a.row,"arrAddress",e)},expression:"scope.row.arrAddress"}})]}}],null,!1,1719905106)}),e("el-table-column",{attrs:{label:"到达日期"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-date-picker",{attrs:{size:"mini",clearable:!1,type:"date","value-format":"yyyy-MM-dd"},model:{value:a.row.arrTime,callback:function(e){t.$set(a.row,"arrTime",e)},expression:"scope.row.arrTime"}})]}}],null,!1,866699241)}),e("el-table-column",{attrs:{label:"出差天数"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{attrs:{size:"mini"},model:{value:a.row.travelDays,callback:function(e){t.$set(a.row,"travelDays",e)},expression:"scope.row.travelDays"}})]}}],null,!1,790085426)}),e("el-table-column",{attrs:{label:"出差补贴金额"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{attrs:{size:"mini"},model:{value:a.row.travelSubsidyAmount,callback:function(e){t.$set(a.row,"travelSubsidyAmount",e)},expression:"scope.row.travelSubsidyAmount"}})]}}],null,!1,243579442)}),e("el-table-column",{attrs:{label:"交通工具"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-select",{attrs:{size:"mini"},model:{value:a.row.vehicle,callback:function(e){t.$set(a.row,"vehicle",e)},expression:"scope.row.vehicle"}},t._l(t.acceptList,(function(t,a){return e("el-option",{key:a,attrs:{label:t.desc,clearable:"",value:t.code}})})),1)]}}],null,!1,4076923468)}),e("el-table-column",{attrs:{label:"交通金额"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{attrs:{size:"mini"},model:{value:a.row.vehicleAmount,callback:function(e){t.$set(a.row,"vehicleAmount",e)},expression:"scope.row.vehicleAmount"}})]}}],null,!1,394516081)}),e("el-table-column",{attrs:{label:"交通单据张数"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{attrs:{size:"mini"},model:{value:a.row.vehicleDocNum,callback:function(e){t.$set(a.row,"vehicleDocNum",e)},expression:"scope.row.vehicleDocNum"}})]}}],null,!1,4234920387)}),e("el-table-column",{attrs:{label:"备注"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input",{attrs:{size:"mini"},model:{value:a.row.remark,callback:function(e){t.$set(a.row,"remark",e)},expression:"scope.row.remark"}})]}}],null,!1,119805479)}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[t.form.reimburseTravelDetailAddDTOList.length>1?e("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(e){return t.delCost(1,a.$index)}}},[t._v("删除")]):t._e()]}}],null,!1,2901451783)})],1)],1):t._e()],1),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.save}},[t._v("保存")]),e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.close}},[t._v("关闭")])],1)]):t._e(),t.layer2?e("layer",{attrs:{title:"详情",width:"80%"}},[e("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[e("el-descriptions",{staticClass:"margin-top",attrs:{column:2,size:"mini",border:""}},[e("el-descriptions-item",[e("template",{slot:"label"},[t._v("报销金额")]),t._v("\n                    "+t._s(t.form.amount)+"\n                ")],2),e("el-descriptions-item",[e("template",{slot:"label"},[t._v("户名")]),t._v("\n                    "+t._s(t.form.accountName)+"\n                ")],2),e("el-descriptions-item",[e("template",{slot:"label"},[t._v("开户行")]),t._v("\n                    "+t._s(t.form.bankOfDeposit)+"\n                ")],2),e("el-descriptions-item",[e("template",{slot:"label"},[t._v("卡号")]),t._v("\n                    "+t._s(t.form.cardNumber)+"\n                ")],2),e("el-descriptions-item",[e("template",{slot:"label"},[t._v("报销日期")]),t._v("\n                    "+t._s(t.form.reimburseDate)+"\n                ")],2),e("el-descriptions-item",[e("template",{slot:"label"},[t._v("备注摘要")]),t._v("\n                    "+t._s(t.form.remark)+"\n                ")],2),e("el-descriptions-item",[e("template",{slot:"label"},[t._v("报销方式")]),t._v("\n                    "+t._s("1"==t.form.reimburseType?"普通报销":"借款冲抵")+"\n                ")],2),e("el-descriptions-item",[e("template",{slot:"label"},[t._v("报销类别")]),t._v("\n                    "+t._s("1"==t.form.type?"差旅报销":"费用报销")+"\n                ")],2),2==t.form.reimburseType?e("el-descriptions-item",[e("template",{slot:"label"},[t._v("冲抵金额")]),t._v("\n                    "+t._s(t.form.offsetAmount)+"\n                ")],2):t._e(),2==t.form.reimburseType?e("el-descriptions-item",[e("template",{slot:"label"},[t._v("借款")]),t._v("\n                    "+t._s(t.form.loanAmount)+"\n                ")],2):t._e()],1),2==t.form.type?e("div",[e("el-table",{staticStyle:{width:"100%"},attrs:{size:"mini",border:"",data:t.form.reimburseCostDetailRSDTOList}},[e("el-table-column",{attrs:{label:"金额",prop:"amount"}}),e("el-table-column",{attrs:{label:"单据张数",prop:"docNum"}}),e("el-table-column",{attrs:{label:"费用类别",prop:"subjectsTypeName"}}),e("el-table-column",{attrs:{label:"费用明细",prop:"subjectCN"}}),e("el-table-column",{attrs:{label:"日期",prop:"time"}}),e("el-table-column",{attrs:{label:"备注",prop:"remark"}})],1)],1):t._e(),1==t.form.type?e("div",[e("el-table",{staticStyle:{width:"100%"},attrs:{size:"mini",border:"",data:t.form.reimburseTravelDetailRSDTOList}},[e("el-table-column",{attrs:{label:"金额",prop:"projectAmount"}}),e("el-table-column",{attrs:{label:"单据张数",prop:"projectDocNum"}}),e("el-table-column",{attrs:{label:"项目",prop:"projectType"}}),e("el-table-column",{attrs:{label:"出发地",prop:"depAddress"}}),e("el-table-column",{attrs:{label:"出发日期",prop:"depTime"}}),e("el-table-column",{attrs:{label:"到达地",prop:"arrAddress"}}),e("el-table-column",{attrs:{label:"到达日期",prop:"arrTime"}}),e("el-table-column",{attrs:{label:"出差天数",prop:"travelDays"}}),e("el-table-column",{attrs:{label:"出差补贴金额",prop:"travelSubsidyAmount"}}),e("el-table-column",{attrs:{label:"交通工具",prop:"vehicleCN"}}),e("el-table-column",{attrs:{label:"交通金额",prop:"vehicleAmount"}}),e("el-table-column",{attrs:{label:"交通单据张数",prop:"vehicleDocNum"}}),e("el-table-column",{attrs:{label:"备注",prop:"remark"}})],1)],1):t._e()],1),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.close2}},[t._v("关闭")])],1)]):t._e()],1)},i=[],l=a("9b68"),o={name:"cashAccounting",components:{DataList:l["a"]},data:function(){return{filter:{deptId:"",deptName:"",myself:"",reimburseUser:"",serialNo:"",type:""},layer:!1,layer2:!1,form:{accountName:"",amount:null,bankOfDeposit:"",cardNumber:"",deptId:0,loanId:"",offsetAmount:0,reimburseCostDetailAddDTOList:[{amount:0,docNum:0,remark:"",subject:"",subjectsType:"",time:"",type:"2",balanceAmount:null,subjectList2:[]}],reimburseDate:"",reimburseTravelDetailAddDTOList:[{arrAddress:"",arrTime:"",depAddress:"",depTime:"",projectAmount:0,projectDocNum:0,projectType:"",remark:"",travelDays:0,travelSubsidyAmount:0,type:"1",vehicle:"",vehicleAmount:0,vehicleDocNum:0}],reimburseType:"1",remark:"",type:"1"},typeList:[{text:"费用报销",value:"2"},{text:"差旅报销",value:"1"}],reimburseTypeList:[{text:"普通报销",value:"1"},{text:"借款冲抵",value:"2"}],statusList:[],acceptList:[],blankList:[],deptList:[],accountList:[],subjectList:[],borrowerList:[],projectList:[]}},activated:function(){this.getPayType(),this.getAcceptType(),this.getDeptList(),this.getSubjectList(),this.getMyBorrower(),this.getProjectList()},methods:{flush:function(){this.filter={deptId:"",deptName:"",myself:"",reimburseUser:"",serialNo:"",type:""},this.getPayType(),this.$refs.list.update(!0)},delCost:function(t,e){1==t?this.form.reimburseTravelDetailAddDTOList.splice(e,1):this.form.reimburseCostDetailAddDTOList.splice(e,1)},costAdd:function(t){1==t?this.form.reimburseTravelDetailAddDTOList.push({arrAddress:"",arrTime:"",depAddress:"",depTime:"",projectAmount:0,projectDocNum:0,projectType:"",remark:"",travelDays:0,travelSubsidyAmount:0,type:"1",vehicle:"",vehicleAmount:0,vehicleDocNum:0}):this.form.reimburseCostDetailAddDTOList.push({amount:0,docNum:0,remark:"",subject:"",subjectsType:"",time:"",type:"2",balanceAmount:null,subjectList2:[]})},getPayType:function(){var t=this;this.statusList=[],this.$http.get("/haolifa/finance/loanapply/getLoanList").then((function(e){e.map((function(e){t.statusList.push({text:e.purpose,value:e.id})}))})).catch((function(e){t.$toast(e.msg||e.message)}))},getAcceptType:function(){var t=this;this.$http.get("/haolifa/sys-dict/getDictListByType/VEHICLE_TYPE").then((function(e){t.acceptList=e})).catch((function(e){t.$toast(e.msg||e.message)}))},getProjectList:function(){var t=this;this.$http.get("/haolifa/sys-dict/getDictListByType/PROJECT_TYPE").then((function(e){t.projectList=e})).catch((function(e){t.$toast(e.msg||e.message)}))},getSubjectList:function(){var t=this;this.$http.get("/haolifa/finance/costbudget/subjects/getCurUserSubjectsTypeList").then((function(e){t.subjectList=e})).catch((function(e){t.$toast(e.msg||e.message)}))},subChange:function(t){var e=this,a=this.form.reimburseCostDetailAddDTOList[t.$index].subjectsType;this.form.reimburseCostDetailAddDTOList[t.$index].subject="",this.form.reimburseCostDetailAddDTOList[t.$index].balanceAmount="",a&&this.$http.get("/haolifa/finance/costbudget/subjects/getCurUserSubjectsBudgetList/".concat(a)).then((function(a){e.form.reimburseCostDetailAddDTOList[t.$index].subjectList2=a})).catch((function(t){e.$toast(t.msg||t.message)}))},subChange2:function(t){var e=this;console.log(1);var a=t.$index,s=this.form.reimburseCostDetailAddDTOList[a].subject;this.form.reimburseCostDetailAddDTOList[a].balanceAmount="",s&&this.form.reimburseCostDetailAddDTOList[a].subjectList2.map((function(t){t.subjectsId==s&&(e.form.reimburseCostDetailAddDTOList[a].balanceAmount=t.balanceAmount)}))},getDeptList:function(){var t=this;this.$http.get("/haolifa/dept/list").then((function(e){t.deptList=e})).catch((function(e){t.$toast(e.msg||e.message)}))},getMyBorrower:function(){var t=this;this.$http.get("/haolifa/finance/loanapply/getLoanList").then((function(e){t.borrowerList=e})).catch((function(e){t.$toast(e.msg||e.message)}))},edit:function(t){var e=this;this.$http.get("/haolifa/finance/reimburseapply/info/".concat(t.id)).then((function(a){e.form={id:t.id,accountName:a.accountName,amount:a.amount,bankOfDeposit:a.bankOfDeposit,cardNumber:a.cardNumber,deptId:a.deptId,loanId:a.loanId,offsetAmount:a.offsetAmount,reimburseCostDetailAddDTOList:[{amount:0,docNum:0,remark:"",subject:"",subjectsType:"",time:"",type:"2",balanceAmount:null,subjectList2:[]}],reimburseDate:a.reimburseDate,reimburseTravelDetailAddDTOList:[{arrAddress:"",arrTime:"",depAddress:"",depTime:"",projectAmount:0,projectDocNum:0,projectType:"",remark:"",travelDays:0,travelSubsidyAmount:0,type:"1",vehicle:"",vehicleAmount:0,vehicleDocNum:0}],reimburseType:a.reimburseType,remark:a.remark,type:a.type},2==a.type?(e.form.reimburseCostDetailAddDTOList=[],a.reimburseCostDetailRSDTOList.map((function(t){e.$http.get("/haolifa/finance/costbudget/subjects/getCurUserSubjectsBudgetList/".concat(t.subjectType)).then((function(a){var s={amount:t.amount,docNum:t.docNum,remark:t.remark,subject:t.subject+"",subjectsType:t.subjectsType+"",time:t.amount,type:"2",balanceAmount:null,subjectList2:a};e.form.reimburseCostDetailAddDTOList.push(s)}))}))):(e.form.reimburseTravelDetailAddDTOList=[],a.reimburseTravelDetailRSDTOList.map((function(t){var a={arrAddress:t.arrAddress,arrTime:t.arrTime,depAddress:t.depAddress,depTime:t.depTime,projectAmount:t.arrAdprojectAmountdress,projectDocNum:t.projectDocNum,projectType:t.projectType,remark:t.remark,travelDays:t.travelDays,travelSubsidyAmount:t.travelSubsidyAmount,type:"1",vehicle:t.vehicle,vehicleAmount:t.vehicleAmount,vehicleDocNum:t.vehicleDocNum};e.form.reimburseTravelDetailAddDTOList.push(a)}))),e.layer=!0})).catch((function(t){e.$toast(t.msg||t.message)}))},remove:function(t){var e=this;this.$confirm({title:"删除确认",text:"您确定要删除吗？",color:"red",btns:["取消","删除"],yes:function(){e.$http.get("/haolifa/finance/reimburseapply/delete/".concat(t.id)).then((function(t){e.$toast("删除成功"),e.$refs.list.update(!0)})).catch((function(t){e.$toast(t.msg||t.message)}))}})},detail:function(t){var e=this;this.$http.get("/haolifa/finance/reimburseapply/info/".concat(t.id)).then((function(t){e.layer2=!0,e.form=t})).catch((function(t){e.$toast(t.msg||t.message)}))},approve:function(t){var e=this;this.$confirm({title:"发起审批确认",text:"您确定要发起审批吗？",color:"red",btns:["取消","确认"],yes:function(){e.$http.get("/haolifa/finance/reimburseapply/approve/".concat(t.id)).then((function(t){e.$toast("发起审批成功"),e.$refs.list.update(!0)})).catch((function(t){e.$toast(t.msg||t.message)}))}})},add:function(){this.layer=!0},save:function(){var t=this;this.form.reimburseCostDetailAddDTOList.map((function(t){delete t.subjectList2}));var e=this.form.id?"/haolifa/finance/bankbill/updateBankBill":"/haolifa/finance/reimburseapply/save";this.$http.post(e,this.form).then((function(e){t.close(),t.$toast("保存成功"),t.$refs.list.update(!0)})).catch((function(e){t.$toast(e.msg||e.message)}))},close:function(){this.layer=!1,this.form={accountName:"",amount:null,bankOfDeposit:"",cardNumber:"",deptId:0,loanId:"",offsetAmount:0,reimburseCostDetailAddDTOList:[{amount:0,docNum:0,remark:"",time:"",type:"2",subject:"",subjectsType:"",balanceAmount:null,subjectList2:[]}],reimburseDate:"",reimburseTravelDetailAddDTOList:[{arrAddress:"",arrTime:"",depAddress:"",depTime:"",projectAmount:0,projectDocNum:0,projectType:"",remark:"",travelDays:0,travelSubsidyAmount:0,type:"1",vehicle:0,vehicleAmount:0,vehicleDocNum:0}],reimburseType:"1",remark:"",type:"1"}},close2:function(){this.layer2=!1,this.form={accountName:"",amount:null,bankOfDeposit:"",cardNumber:"",deptId:0,loanId:"",offsetAmount:0,reimburseCostDetailAddDTOList:[{amount:0,docNum:0,remark:"",time:"",type:"2",subject:"",subjectsType:"",balanceAmount:null,subjectList2:[]}],reimburseDate:"",reimburseTravelDetailAddDTOList:[{arrAddress:"",arrTime:"",depAddress:"",depTime:"",projectAmount:0,projectDocNum:0,projectType:"",remark:"",travelDays:0,travelSubsidyAmount:0,type:"1",vehicle:0,vehicleAmount:0,vehicleDocNum:0}],reimburseType:"1",remark:"",type:"1"}}}},r=o,n=(a("72e2"),a("0b56")),c=Object(n["a"])(r,s,i,!1,null,null,null);e["default"]=c.exports},"4f78":function(t,e,a){"use strict";a.r(e);a("a450");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-cashAccounting-list"},[e("i",{staticClass:"icon icon-abs",on:{click:t.flush}},[t._v("autorenew")]),e("div",{staticClass:"flex-v-center tool-bar"},[e("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.bh,expression:"filter.bh"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"设备编号"},domProps:{value:t.filter.bh},on:{change:function(e){return t.$refs.list.update(!0)},input:function(e){e.target.composing||t.$set(t.filter,"bh",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.name,expression:"filter.name"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"设备名称"},domProps:{value:t.filter.name},on:{change:function(e){return t.$refs.list.update(!0)},input:function(e){e.target.composing||t.$set(t.filter,"name",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.userName,expression:"filter.userName"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"领用人"},domProps:{value:t.filter.userName},on:{change:function(e){return t.$refs.list.update(!0)},input:function(e){e.target.composing||t.$set(t.filter,"userName",e.target.value)}}}),t._v("\n            增加方式:\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.addType,expression:"filter.addType"}],staticClass:"f-14",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"addType",e.target.multiple?a:a[0])},function(e){return t.$refs.list.update(!0)}]}},[e("option",{attrs:{value:""}},[t._v("全部")]),t._l(t.addTypeList,(function(a,s){return e("option",{domProps:{value:a.value}},[t._v(t._s(a.text))])}))],2),t._v("\n            类别名称:\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.type,expression:"filter.type"}],staticClass:"f-14",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"type",e.target.multiple?a:a[0])},function(e){return t.$refs.list.update(!0)}]}},[e("option",{attrs:{value:""}},[t._v("全部")]),t._l(t.typeList,(function(a,s){return e("option",{domProps:{value:a.value}},[t._v(t._s(a.text))])}))],2),t._v("\n            部门:\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.deptId,expression:"filter.deptId"}],staticClass:"f-14",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"deptId",e.target.multiple?a:a[0])},function(e){return t.$refs.list.update(!0)}]}},[e("option",{attrs:{value:""}},[t._v("全部")]),t._l(t.deptList,(function(a,s){return e("option",{domProps:{value:a.value}},[t._v(t._s(a.text))])}))],2),t._v("\n            状态:\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.status,expression:"filter.status"}],staticClass:"f-14",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"status",e.target.multiple?a:a[0])},function(e){return t.$refs.list.update(!0)}]}},[e("option",{attrs:{value:""}},[t._v("全部")]),t._l(t.statusList,(function(a,s){return e("option",{domProps:{value:a.value}},[t._v(t._s(a.text))])}))],2)]),e("div",{staticClass:"flex-item"}),e("btn",{staticClass:"b",attrs:{flat:"",color:"#008eff"},on:{click:function(e){return t.add()}}},[t._v("新增")])],1),e("div",{staticClass:"flex-item scroll-y"},[e("data-list",{ref:"list",attrs:{"page-size":15,param:t.filter,url:"/haolifa/finance/assets/getAssetsList",method:"post"},scopedSlots:t._u([{key:"item",fn:function(a){var s=a.item,i=a.index;return[e("td",{staticClass:"c-a"},[t._v(t._s(i))]),e("td",[t._v(t._s(s.bh))]),e("td",[t._v(t._s(s.name))]),e("td",[t._v(t._s(s.specifications))]),e("td",[t._v(t._s(s.num))]),e("td",[t._v(t._s(s.price))]),e("td",[t._v(t._s(s.netWorth))]),e("td",[t._v(t._s(s.outputRate))]),e("td",[t._v(t._s(s.salvageValue))]),e("td",[t._v(t._s(s.depreciationMethod))]),e("td",[t._v(t._s(s.monthDepreciation))]),e("td",[t._v(t._s(s.monthRate))]),e("td",[t._v(t._s(s.accruedMonth))]),e("td",[t._v(t._s(s.accumulatedDepreciation))]),e("td",[t._v(t._s(s.useYear))]),e("td",[t._v(t._s(s.purchasingTime))]),e("td",[t._v(t._s(s.startTime))]),e("td",[t._v(t._s(s.statusCN))]),e("td",[t._v(t._s(s.typeCN))]),e("td",[t._v(t._s(s.deptName))]),e("td",[t._v(t._s(s.userName))]),e("td",[t._v(t._s(s.manufacturer))]),e("td",[t._v(t._s(s.addTypeCN))]),e("td",[t._v(t._s(s.location))]),e("td",[t._v(t._s(s.remark))]),e("td",[t._v(t._s(s.createTime))]),e("td",{staticClass:"t-right"},[e("a",{staticClass:"blue",attrs:{href:"javascript:;"},on:{click:function(e){return t.edit(s)}}},[t._v("编辑 | ")]),e("a",{staticClass:"red",attrs:{href:"javascript:;"},on:{click:function(e){return t.remove(s)}}},[t._v("删除")])])]}}])},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("设备编号")]),e("th",[t._v("设备名称")]),e("th",[t._v("规格型号")]),e("th",[t._v("设备数量")]),e("th",[t._v("采购金额")]),e("th",[t._v("净值")]),e("th",[t._v("净产值率")]),e("th",[t._v("净残值")]),e("th",[t._v("折旧方法")]),e("th",[t._v("月折旧额")]),e("th",[t._v("月折旧率")]),e("th",[t._v("已计提月份")]),e("th",[t._v("累计折旧")]),e("th",[t._v("使用年限")]),e("th",[t._v("采购时间")]),e("th",[t._v("开始使用日期")]),e("th",[t._v("状态")]),e("th",[t._v("类别名称")]),e("th",[t._v("部门")]),e("th",[t._v("领用人")]),e("th",[t._v("生产厂家")]),e("th",[t._v("增加方式")]),e("th",[t._v("存放地点")]),e("th",[t._v("备注")]),e("th",[t._v("创建时间")]),e("th",{staticClass:"t-right",staticStyle:{width:"80px"}},[t._v("操作")])])])],1),t.layer?e("layer",{attrs:{title:t.form.id?"编辑":"新增",width:"50%"}},[e("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"设备编号"},model:{value:t.form.bh,callback:function(e){t.$set(t.form,"bh",e)},expression:"form.bh"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"设备名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"规格型号"},model:{value:t.form.specifications,callback:function(e){t.$set(t.form,"specifications",e)},expression:"form.specifications"}})],1),e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{list:t.typeList,label:"类别名称"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"设备数量"},model:{value:t.form.num,callback:function(e){t.$set(t.form,"num",e)},expression:"form.num"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"采购金额"},model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"净值"},model:{value:t.form.netWorth,callback:function(e){t.$set(t.form,"netWorth",e)},expression:"form.netWorth"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"净产值率"},model:{value:t.form.outputRate,callback:function(e){t.$set(t.form,"outputRate",e)},expression:"form.outputRate"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"净残值"},model:{value:t.form.salvageValue,callback:function(e){t.$set(t.form,"salvageValue",e)},expression:"form.salvageValue"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"折旧方法"},model:{value:t.form.depreciationMethod,callback:function(e){t.$set(t.form,"depreciationMethod",e)},expression:"form.depreciationMethod"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"月折旧额"},model:{value:t.form.monthDepreciation,callback:function(e){t.$set(t.form,"monthDepreciation",e)},expression:"form.monthDepreciation"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"月折旧率"},model:{value:t.form.monthRate,callback:function(e){t.$set(t.form,"monthRate",e)},expression:"form.monthRate"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"已计提月份"},model:{value:t.form.accruedMonth,callback:function(e){t.$set(t.form,"accruedMonth",e)},expression:"form.accruedMonth"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"累计折旧"},model:{value:t.form.accumulatedDepreciation,callback:function(e){t.$set(t.form,"accumulatedDepreciation",e)},expression:"form.accumulatedDepreciation"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"使用年限"},model:{value:t.form.useYear,callback:function(e){t.$set(t.form,"useYear",e)},expression:"form.useYear"}})],1),e("div",{staticClass:"flex"},[e("date-picker",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"采购时间"},model:{value:t.form.purchasingTime,callback:function(e){t.$set(t.form,"purchasingTime",e)},expression:"form.purchasingTime"}}),e("date-picker",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{label:"开始使用日期"},model:{value:t.form.startTime,callback:function(e){t.$set(t.form,"startTime",e)},expression:"form.startTime"}}),e("select-box",{staticClass:"flex-item mr-20",attrs:{list:t.statusList,label:"状态"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}})],1),e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{list:t.deptList,label:"部门"},model:{value:t.form.deptId,callback:function(e){t.$set(t.form,"deptId",e)},expression:"form.deptId"}}),e("select-box",{staticClass:"flex-item mr-20",attrs:{list:t.userList,label:"领用人"},model:{value:t.form.userName,callback:function(e){t.$set(t.form,"userName",e)},expression:"form.userName"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"生产厂家"},model:{value:t.form.manufacturer,callback:function(e){t.$set(t.form,"manufacturer",e)},expression:"form.manufacturer"}})],1),e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{list:t.addTypeList,label:"增加方式"},model:{value:t.form.addType,callback:function(e){t.$set(t.form,"addType",e)},expression:"form.addType"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"存放地点"},model:{value:t.form.location,callback:function(e){t.$set(t.form,"location",e)},expression:"form.location"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"备注"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)]),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.save}},[t._v("保存")]),e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.close}},[t._v("关闭")])],1)]):t._e()],1)},i=[],l=(a("32ea"),a("1bc78"),a("9b68")),o={name:"cashAccounting",components:{DataList:l["a"]},data:function(){return{filter:{addType:"",bh:"",deptId:"",equipmentState:"",name:"",status:"",type:"",userName:""},layer:!1,form:{accruedMonth:"",accumulatedDepreciation:"",addType:"",bh:"",depreciationMethod:"",deptId:"",equipmentState:"",location:"",manufacturer:"",monthDepreciation:"",monthRate:"",name:"",netWorth:"",num:"",outputRate:"",price:0,purchasingTime:"",remark:"",salvageValue:"",specifications:"",startTime:"",status:"",type:"",useYear:"",userName:""},deptList:[],statusList:[{text:"正常",value:"0"},{text:"停用",value:"1"}],accountList:[],addTypeList:[],typeList:[],userList:[]}},mounted:function(){this.getAddType(),this.getTypeList(),this.getDeptList(),this.getUserList()},methods:{flush:function(){this.filter={addType:"",bh:"",deptId:"",equipmentState:"",name:"",status:"",type:"",userName:""},this.$refs.list.update(!0)},getAddType:function(){var t=this;this.$http.get("/haolifa/sys-dict/getDictListByType/ASSETS_ADD_TYPE").then((function(e){t.addTypeList=e.map((function(t){return{text:t.desc,value:t.code}}))})).catch((function(e){t.$toast(e.msg||e.message)}))},getTypeList:function(){var t=this;this.$http.get("/haolifa/sys-dict/getDictListByType/ASSETS_TYPE").then((function(e){t.typeList=e.map((function(t){return{text:t.desc,value:t.code}}))})).catch((function(e){t.$toast(e.msg||e.message)}))},getAccName:function(t){var e="";return this.acceptList.map((function(a){a.value==t&&(e=a.text)})),e},getDeptList:function(){var t=this;this.$http.get("/haolifa/dept/list").then((function(e){t.deptList=e.map((function(t){return{text:t.deptName,value:t.id+""}}))})).catch((function(e){t.$toast(e.msg||e.message)}))},getUserList:function(){var t=this;this.$http.post("/haolifa/pay-user/getAllList",{departName:"",id:"",pageNum:"",pageSize:"",postId:"",postName:"",sex:"",superiorId:"",teamId:"",teamName:"",userName:"",userType:""}).then((function(e){t.userList=e.map((function(t){return{text:t.userName,value:t.userName}}))})).catch((function(e){t.$toast(e.message||e.msg)}))},edit:function(t){var e=this;this.layer=!0,Object.keys(this.form).forEach((function(a){e.form[a]=t[a]})),this.form.id=t.id},remove:function(t){var e=this;this.$confirm({title:"删除确认",text:"您确定要删除吗？",color:"red",btns:["取消","删除"],yes:function(){e.$http.get("/haolifa/finance/assets/delete/".concat(t.id)).then((function(t){e.$toast("删除成功"),e.$refs.list.update(!0)})).catch((function(t){e.$toast(t.msg||t.message)}))}})},add:function(t){this.layer=!0},save:function(){var t=this,e=this.form.id?"/haolifa/finance/assets/updateAssets":"/haolifa/finance/assets/save";this.$http.post(e,this.form).then((function(e){t.close(),t.$toast("保存成功"),t.$refs.list.update(!0)})).catch((function(e){t.$toast(e.msg||e.message)}))},close:function(){this.layer=!1,this.form={accruedMonth:"",accumulatedDepreciation:"",addType:"",bh:"",depreciationMethod:"",deptId:"",equipmentState:"",location:"",manufacturer:"",monthDepreciation:"",monthRate:"",name:"",netWorth:"",num:"",outputRate:"",price:0,purchasingTime:"",remark:"",salvageValue:"",specifications:"",startTime:"",status:"",type:"",useYear:"",userName:""}}}},r=o,n=(a("b9e6"),a("0b56")),c=Object(n["a"])(r,s,i,!1,null,null,null);e["default"]=c.exports},"4fe0":function(t,e,a){"use strict";a("7f77")},"53df":function(t,e,a){"use strict";a("9bf0")},5506:function(t,e,a){"use strict";a("5f54")},"583e":function(t,e,a){},"5c15":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-cashAccounting-list"},[e("i",{staticClass:"icon icon-abs",on:{click:t.flush}},[t._v("autorenew")]),e("div",{staticClass:"flex-v-center tool-bar"},[e("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.deptName,expression:"filter.deptName"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"报销部门"},domProps:{value:t.filter.deptName},on:{change:function(e){return t.$refs.list.update(!0)},input:function(e){e.target.composing||t.$set(t.filter,"deptName",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.reimburseUser,expression:"filter.reimburseUser"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"报销人"},domProps:{value:t.filter.reimburseUser},on:{change:function(e){return t.$refs.list.update(!0)},input:function(e){e.target.composing||t.$set(t.filter,"reimburseUser",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.serialNo,expression:"filter.serialNo"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"编号"},domProps:{value:t.filter.serialNo},on:{change:function(e){return t.$refs.list.update(!0)},input:function(e){e.target.composing||t.$set(t.filter,"serialNo",e.target.value)}}}),t._v("\n            报销类型:\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.type,expression:"filter.type"}],staticClass:"f-14",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"type",e.target.multiple?a:a[0])},function(e){return t.$refs.list.update(!0)}]}},[e("option",{attrs:{value:""}},[t._v("全部")]),e("option",{attrs:{value:"1"}},[t._v("差旅报销")]),e("option",{attrs:{value:"2"}},[t._v("费用报销")])])]),e("div",{staticClass:"flex-item"})]),e("div",{staticClass:"flex-item scroll-y"},[e("data-list",{ref:"list",attrs:{"page-size":15,param:t.filter,url:"/haolifa/finance/reimburseapply/getReimburseApplyPayBillList",method:"post"},scopedSlots:t._u([{key:"item",fn:function(a){var s=a.item,i=a.index;return[e("td",{staticClass:"c-a"},[t._v(t._s(i))]),e("td",[t._v(t._s(s.reimburseUserName))]),e("td",[t._v(t._s(s.amount))]),e("td",[t._v(t._s(s.typeCN))]),e("td",[t._v(t._s(s.reimburseTypeCN))]),e("td",[t._v(t._s(s.deptName))]),e("td",[t._v(t._s(s.accountName))]),e("td",[t._v(t._s(s.cardNumber))]),e("td",[t._v(t._s(s.payStatusCN))]),e("td",[t._v(t._s(s.createTime))]),e("td",[t._v(t._s(s.remark))]),e("td",{staticClass:"t-right"},[s.canPay?e("a",{staticClass:"blue",attrs:{href:"javascript:;"},on:{click:function(e){return t.pay(s)}}},[t._v("付款")]):t._e()])]}}])},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("报销人")]),e("th",[t._v("金额")]),e("th",[t._v("报销类型")]),e("th",[t._v("报销方式")]),e("th",[t._v("部门")]),e("th",[t._v("账户名")]),e("th",[t._v("卡号")]),e("th",[t._v("付款状态")]),e("th",[t._v("创建时间")]),e("th",[t._v("备注")]),e("th",{staticClass:"t-right",staticStyle:{width:"80px"}},[t._v("操作")])])])],1),t.layer?e("layer",{attrs:{title:"付款 ",width:"50%"}},[e("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{hint:"必填",list:t.amountTypeList,label:"记账方式"},model:{value:t.form.billNature,callback:function(e){t.$set(t.form,"billNature",e)},expression:"form.billNature"}})],1),e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{list:t.accountList,label:"付款账户"},model:{value:t.form.payAccount,callback:function(e){t.$set(t.form,"payAccount",e)},expression:"form.payAccount"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"付款单位"},model:{value:t.form.payCompany,callback:function(e){t.$set(t.form,"payCompany",e)},expression:"form.payCompany"}})],1)]),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.save}},[t._v("保存")]),e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.close}},[t._v("关闭")])],1)]):t._e()],1)},i=[],l=a("8eda"),o=a("9b68"),r={name:"cashAccounting",components:{DataList:o["a"]},data:function(){return{filter:Object(l["a"])({deptId:"",deptName:"",myself:"",reimburseUser:"",serialNo:"",type:""},"myself",""),layer:!1,layer2:!1,form:{billNature:"",id:"",payAccount:"",payCompany:"山西好利阀机械制造有限公司"},typeList:[{text:"费用报销",value:"2"},{text:"差旅报销",value:"1"}],reimburseTypeList:[{text:"普通报销",value:"1"},{text:"借款冲抵",value:"2"}],amountTypeList:[{text:"现金",value:"1"},{text:"支票",value:"2"},{text:"其他货币",value:"3"}],statusList:[],acceptList:[],blankList:[],deptList:[],accountList:[]}},mounted:function(){this.getPayType(),this.getAccount(),this.getDeptList()},methods:{flush:function(){this.filter=Object(l["a"])({deptId:"",deptName:"",myself:"",reimburseUser:"",serialNo:"",type:""},"myself",""),this.$refs.list.update(!0)},delCost:function(t,e){1==t?this.form.reimburseTravelDetailAddDTOList.splice(e,1):this.form.reimburseCostDetailAddDTOList.splice(e,1)},costAdd:function(t){1==t?this.form.reimburseTravelDetailAddDTOList.push({arrAddress:"",arrTime:"",depAddress:"",depTime:"",projectAmount:0,projectDocNum:0,projectType:0,remark:"",travelDays:0,travelSubsidyAmount:0,type:"1",vehicle:0,vehicleAmount:0,vehicleDocNum:0}):this.form.reimburseCostDetailAddDTOList.push({amount:0,docNum:0,remark:"",time:"",type:"2"})},getPayType:function(){var t=this;this.$http.get("/haolifa/sys-dict/getDictListByType/PAYMENT_TYPE").then((function(e){e.map((function(e){t.statusList.push({text:e.desc,value:e.code})}))})).catch((function(e){t.$toast(e.msg||e.message)}))},getAccount:function(){var t=this;this.accountList=[],this.$http.get("/haolifa/sys-dict/getDictListByType/PAY_ACCOUNT").then((function(e){e.map((function(e){t.accountList.push({text:e.desc,value:e.desc})}))}))},getDeptList:function(){var t=this;this.$http.get("/haolifa/dept/list").then((function(e){e.map((function(e){t.deptList.push({text:e.deptName,value:e.id+""})})),console.log(t.deptList)})).catch((function(e){t.$toast(e.msg||e.message)}))},pay:function(t){this.form.id=t.id,this.layer=!0},save:function(){var t=this,e="/haolifa/finance/reimburseapply/pay";this.$http.post(e,this.form).then((function(e){t.close(),t.$toast("付款成功"),t.$refs.list.update(!0)})).catch((function(e){t.$toast(e.msg||e.message)}))},close:function(){this.layer=!1,this.form={billNature:"",id:"",payAccount:"",payCompany:"山西好利阀机械制造有限公司"}}}},n=r,c=(a("b076"),a("0b56")),u=Object(c["a"])(n,s,i,!1,null,null,null);e["default"]=u.exports},"5f54":function(t,e,a){},"630b":function(t,e,a){},"6b29":function(t,e,a){},7087:function(t,e,a){},"72e2":function(t,e,a){"use strict";a("1b82")},"7f77":function(t,e,a){},"8eda":function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));var s=a("d51c"),i=a.n(s);function l(t,e,a){return e in t?i()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},"952f":function(t,e,a){"use strict";a("7087")},"9b68":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"data-list relative f-12"},[e("transition",{attrs:{name:"slide-y"}},[t.list.length?e("table",{staticClass:"data-table"},[t._t("header",(function(){return[e("tr",[e("th",[t._v("表头1")]),e("th",[t._v("表头2")])])]})),t._l(t.list,(function(a,s){return e("tr",{key:a.id},[t._t("item",(function(){return[e("td",[t._v("数据1")]),e("td",[t._v("数据2")])]}),{i:s,item:a,index:(t.pageNum-1)*t.pageSize+s+1})],2)}))],2):t._e()]),e("div",{staticClass:"flex-v-center",staticStyle:{"margin-top":"10px"}},[t.list.length?e("pagination",{staticClass:"mr-20",attrs:{page:t.pageNum,size:t.pageSize,total:t.total},on:{change:t.getList}}):t._e(),t.total?e("span",{staticClass:"f-12 c-6"},[t._v("共 "+t._s(t.total)+" 条数据")]):t._e()],1),t.list.length||t.loading?t._e():e("div",{staticStyle:{"margin-top":"100px"}},[e("no-data")],1)],1)},i=[];a("e680"),a("1bc78"),a("32ea");function l(t){return"?"+Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")}var o={name:"data-list",props:{method:{type:String,default:"get"},url:{type:String,default:""},pageSize:{type:Number,default:20},param:{type:Object,default:function(){}},pageNumStr:{type:String,default:"pageNum"}},data:function(){return{pageNum:1,total:0,loading:!1,list:[]}},watch:{url:function(){this.update()},mehtod:function(){this.update()},pageSize:function(){this.update()},param:function(){this.update()}},created:function(){this.pageNum=this.$route.query.page||1,this.getList(this.pageNum)},methods:{getList:function(t){var e=this,a=this.method,s=this.url,i=this.pageSize,o=this.param;if(s){this.loading=!0;var r={pageSize:i};r[this.pageNumStr]=t;var n=Object.assign(r,o),c="get"===a?s+l(n):s;this.$http[a](c,n).then((function(t){e.list=t.list||[],e.pageNum=t.pageNum;var a=e.$route.query;a.page=t.pageNum,e.$router.push({path:e.$route.path,query:a}),e.total=t.total,e.loading=!1})).catch((function(t){e.loading=!1,e.$toast(t.message||t.msg||t)}))}},update:function(t){this.getList(t?1:this.pageNum)}}},r=o,n=(a("952f"),a("0b56")),c=Object(n["a"])(r,s,i,!1,null,null,null);e["a"]=c.exports},"9bf0":function(t,e,a){},a86b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-cashAccounting-list"},[e("i",{staticClass:"icon icon-abs",on:{click:t.flush}},[t._v("autorenew")]),e("div",{staticClass:"flex-v-center tool-bar"},[e("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.certificateNumber,expression:"filter.certificateNumber"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"凭证号"},domProps:{value:t.filter.certificateNumber},on:{change:function(e){return t.$refs.list.update(!0)},input:function(e){e.target.composing||t.$set(t.filter,"certificateNumber",e.target.value)}}}),t._v("\n            记账类别:\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.type,expression:"filter.type"}],staticClass:"f-14",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"type",e.target.multiple?a:a[0])},function(e){return t.$refs.list.update(!0)}]}},[e("option",{attrs:{value:""}},[t._v("全部")]),e("option",{attrs:{value:"1"}},[t._v("收款")]),e("option",{attrs:{value:"2"}},[t._v("付款")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.collectCompany,expression:"filter.collectCompany"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"收款单位"},domProps:{value:t.filter.collectCompany},on:{change:function(e){return t.$refs.list.update(!0)},input:function(e){e.target.composing||t.$set(t.filter,"collectCompany",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.payCompany,expression:"filter.payCompany"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"付款单位"},domProps:{value:t.filter.payCompany},on:{change:function(e){return t.$refs.list.update(!0)},input:function(e){e.target.composing||t.$set(t.filter,"payCompany",e.target.value)}}}),t._v("\n            银行账户:\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.payAccount,expression:"filter.payAccount"}],staticClass:"f-14",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"payAccount",e.target.multiple?a:a[0])},function(e){return t.$refs.list.update(!0)}]}},[e("option",{attrs:{value:""}},[t._v("全部")]),t._l(t.accountList,(function(a,s){return e("option",{attrs:{index:s},domProps:{value:a.text}},[t._v(t._s(a.text))])}))],2)]),e("div",{staticClass:"flex-item"}),e("btn",{staticClass:"b",attrs:{flat:"",color:"#008eff"},on:{click:function(e){return t.add("1")}}},[t._v("收款新增")]),e("btn",{staticClass:"b",attrs:{flat:"",color:"#008eff"},on:{click:function(e){return t.add("2")}}},[t._v("付款新增")])],1),e("div",{staticClass:"flex-item scroll-y"},[e("data-list",{ref:"list",attrs:{"page-size":15,param:t.filter,url:"/haolifa/finance/bankbill/getBankBillList",method:"post"},scopedSlots:t._u([{key:"item",fn:function(a){var s=a.item,i=a.index;return[e("td",{staticClass:"c-a"},[t._v(t._s(i))]),e("td",[t._v(t._s(1==s.type?"收款":"付款"))]),e("td",[t._v(t._s(s.operateDate))]),e("td",[t._v(t._s(s.certificateNumber))]),e("td",[t._v(t._s(s.collectCompany))]),e("td",[t._v(t._s(s.payCompany))]),e("td",[t._v(t._s(s.payAccount))]),e("td",[t._v(t._s(s.payWay))]),e("td",[t._v(t._s(t.getPayName(s.collectionType)))]),e("td",[t._v(t._s(s.collectionMoney))]),e("td",[t._v(t._s(t.getPayName(s.paymentType)))]),e("td",[t._v(t._s(s.payment))]),e("td",[t._v(t._s(s.preMonthMoney))]),e("td",[t._v(t._s(s.balance))]),e("td",[t._v(t._s(s.deptId))]),e("td",[t._v(t._s(s.contractUser))]),e("td",[t._v(t._s(s.createTime))]),e("td",[t._v(t._s(s.remark))])]}}])},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("记账类别")]),e("th",[t._v("日期")]),e("th",[t._v("凭证号")]),e("th",[t._v("收款单位")]),e("th",[t._v("付款单位")]),e("th",[t._v("收/付款账户")]),e("th",[t._v("收/付款方式")]),e("th",[t._v("收款类别")]),e("th",[t._v("收款")]),e("th",[t._v("付款类别")]),e("th",[t._v("付款")]),e("th",[t._v("上月结转")]),e("th",[t._v("余额")]),e("th",[t._v("部门")]),e("th",[t._v("经办人")]),e("th",[t._v("创建时间")]),e("th",[t._v("备注")])])])],1),t.layer?e("layer",{attrs:{title:t.form.id?"收款编辑":"收款新增",width:"50%"}},[e("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{disabled:!0,list:t.typeList,label:"记账类别"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"序号"},model:{value:t.form.serialNo,callback:function(e){t.$set(t.form,"serialNo",e)},expression:"form.serialNo"}}),e("date-picker",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{hint:"必填",label:"日期"},model:{value:t.form.operateDate,callback:function(e){t.$set(t.form,"operateDate",e)},expression:"form.operateDate"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"凭证号"},model:{value:t.form.certificateNumber,callback:function(e){t.$set(t.form,"certificateNumber",e)},expression:"form.certificateNumber"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"收款单位"},model:{value:t.form.collectCompany,callback:function(e){t.$set(t.form,"collectCompany",e)},expression:"form.collectCompany"}})],1),e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{hint:"必填",list:t.payList,label:"收款方式"},model:{value:t.form.payWay,callback:function(e){t.$set(t.form,"payWay",e)},expression:"form.payWay"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"付款单位"},model:{value:t.form.payCompany,callback:function(e){t.$set(t.form,"payCompany",e)},expression:"form.payCompany"}})],1),e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{list:t.accountList,label:"收款账户"},model:{value:t.form.payAccount,callback:function(e){t.$set(t.form,"payAccount",e)},expression:"form.payAccount"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"收款"},model:{value:t.form.collectionMoney,callback:function(e){t.$set(t.form,"collectionMoney",e)},expression:"form.collectionMoney"}})],1),e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{hint:"必填",list:t.acceptList,label:"收款类别"},model:{value:t.form.collectionType,callback:function(e){t.$set(t.form,"collectionType",e)},expression:"form.collectionType"}}),e("select-box",{staticClass:"flex-item mr-20",attrs:{hint:"必填",list:t.deptList,label:"所属部门"},model:{value:t.form.deptId,callback:function(e){t.$set(t.form,"deptId",e)},expression:"form.deptId"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"备注"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)]),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.save}},[t._v("保存")]),e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.close}},[t._v("关闭")])],1)]):t._e(),t.layer2?e("layer",{attrs:{title:t.form.id?"付款编辑":"付款新增",width:"50%"}},[e("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{disabled:!0,list:t.typeList,label:"记账类别"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"序号"},model:{value:t.form.serialNo,callback:function(e){t.$set(t.form,"serialNo",e)},expression:"form.serialNo"}}),e("date-picker",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{hint:"必填",label:"日期"},model:{value:t.form.operateDate,callback:function(e){t.$set(t.form,"operateDate",e)},expression:"form.operateDate"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"凭证号"},model:{value:t.form.certificateNumber,callback:function(e){t.$set(t.form,"certificateNumber",e)},expression:"form.certificateNumber"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"付款单位"},model:{value:t.form.payCompany,callback:function(e){t.$set(t.form,"payCompany",e)},expression:"form.payCompany"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"收款单位"},model:{value:t.form.collectCompany,callback:function(e){t.$set(t.form,"collectCompany",e)},expression:"form.collectCompany"}}),e("select-box",{staticClass:"flex-item mr-20",attrs:{hint:"必填",list:t.payList,label:"付款方式"},model:{value:t.form.payWay,callback:function(e){t.$set(t.form,"payWay",e)},expression:"form.payWay"}})],1),e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{list:t.accountList,label:"付款账户"},model:{value:t.form.payAccount,callback:function(e){t.$set(t.form,"payAccount",e)},expression:"form.payAccount"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"付款"},model:{value:t.form.payment,callback:function(e){t.$set(t.form,"payment",e)},expression:"form.payment"}})],1),e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{hint:"必填",list:t.statusList,label:"付款类别"},model:{value:t.form.paymentType,callback:function(e){t.$set(t.form,"paymentType",e)},expression:"form.paymentType"}}),e("select-box",{staticClass:"flex-item mr-20",attrs:{hint:"必填",list:t.deptList,label:"所属部门"},model:{value:t.form.deptId,callback:function(e){t.$set(t.form,"deptId",e)},expression:"form.deptId"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"备注"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)]),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.save}},[t._v("保存")]),e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.close}},[t._v("关闭")])],1)]):t._e()],1)},i=[],l=a("9b68"),o={name:"cashAccounting",components:{DataList:l["a"]},data:function(){return{filter:{certificateNumber:"",collectCompany:"",operateDateEnd:"",operateDateStart:"",payAccount:"",payCompany:"",paymentType:"",type:""},layer:!1,layer2:!1,form:{account:"",certificateNumber:"",collectCompany:"山西好利阀机械制造有限公司",collectionMoney:"",collectionType:"",company:"",contractStatus:"",deptId:"35",operateDate:"",payAccount:"山西好利阀机械制造有限公司",payCompany:"",payCompanyId:"",payWay:"",payment:"",paymentType:"",remark:"",serialNo:"",type:""},typeList:[{text:"收款",value:"1"},{text:"付款",value:"2"}],statusList:[],acceptList:[],blankList:[],deptList:[],payList:[{text:"电汇",value:"电汇"},{text:"支票",value:"支票"},{text:"汇票",value:"汇票"},{text:"现金",value:"现金"},{text:"其它",value:"其它"},{text:"承兑",value:"承兑"}],accountList:[]}},mounted:function(){this.getPayType(),this.getAcceptType(),this.getDeptList(),this.getAccount()},methods:{flush:function(){this.filter={certificateNumber:"",collectCompany:"",operateDateEnd:"",operateDateStart:"",payAccount:"",payCompany:"",paymentType:"",type:""},this.$refs.list.update(!0)},getPayType:function(){var t=this;this.$http.get("/haolifa/sys-dict/getDictListByType/PAYMENT_TYPE").then((function(e){e.map((function(e){t.statusList.push({text:e.desc,value:e.code})}))})).catch((function(e){t.$toast(e.msg||e.message)}))},getPayName:function(t){var e="";return this.statusList.map((function(a){a.value==t&&(e=a.text)})),e},getAcceptType:function(){var t=this;this.$http.get("/haolifa/sys-dict/getDictListByType/COLLECTION_TYPE").then((function(e){e.map((function(e){t.acceptList.push({text:e.desc,value:e.code})}))})).catch((function(e){t.$toast(e.msg||e.message)}))},getAccName:function(t){var e="";return this.acceptList.map((function(a){a.value==t&&(e=a.text)})),e},getDeptList:function(){var t=this;this.$http.get("/haolifa/dept/list").then((function(e){e.map((function(e){t.deptList.push({text:e.deptName,value:e.id+""})})),console.log(t.deptList)})).catch((function(e){t.$toast(e.msg||e.message)}))},getAccount:function(){var t=this;this.accountList=[],this.$http.get("/haolifa/sys-dict/getDictListByType/PAY_ACCOUNT").then((function(e){e.map((function(e){t.accountList.push({text:e.desc,value:e.desc})}))}))},edit:function(t){1==t.type?this.layer=!0:this.layer2=!0,this.form.id=t.id,this.form.type=t.type,this.form.serialNo=t.serialNo,this.form.operateDate=t.operateDate,this.form.certificateNumber=t.certificateNumber,this.form.payCompany=t.payCompany,this.form.collectCompany=t.collectCompany,this.form.payWay=t.payWay,this.form.payAccount=t.payAccount,this.form.deptId=t.deptId,this.form.paymentType=t.paymentType,this.form.payment=t.payment,this.form.remark=t.remark,this.form.collectionMoney=t.collectionMoney,this.form.collectionType=t.collectionType},remove:function(t){var e=this;this.$confirm({title:"删除确认",text:"您确定要删除吗？",color:"red",btns:["取消","删除"],yes:function(){e.$http.get("/haolifa/finance/bankbill/delete/".concat(t.id)).then((function(t){e.$toast("删除成功"),e.$refs.list.update(!0)})).catch((function(t){e.$toast(t.msg||t.message)}))}})},add:function(t){this.form.type=t,1==t?(this.layer=!0,this.form.payCompany="",this.form.collectCompany="山西好利阀机械制造有限公司"):(this.layer2=!0,this.form.payCompany="山西好利阀机械制造有限公司",this.form.collectCompany="")},save:function(){var t=this;this.$confirm({title:"确认",text:"请确认数据是否正确，保存后无法修改",color:"red",btns:["取消","确认"],yes:function(){var e=t.form.id?"/haolifa/finance/bankbill/updateBankBill":"/haolifa/finance/bankbill/save";t.$http.post(e,t.form).then((function(e){t.close(),t.$toast("保存成功"),t.$refs.list.update(!0)})).catch((function(e){t.$toast(e.msg||e.message)}))}})},close:function(){this.layer=this.layer2=!1,this.form={account:"",certificateNumber:"",collectCompany:"山西好利阀机械制造有限公司",collectionMoney:"",collectionType:"",company:"",contractStatus:"",deptId:"35",operateDate:"",payAccount:"山西好利阀机械制造有限公司",payCompany:"",payCompanyId:"",payWay:"",payment:"",paymentType:"",remark:"",serialNo:"",type:""}}}},r=o,n=(a("fb5f"),a("0b56")),c=Object(n["a"])(r,s,i,!1,null,null,null);e["default"]=c.exports},a8f4:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-cashAccounting-list"},[e("i",{staticClass:"icon icon-abs",on:{click:t.flush}},[t._v("autorenew")]),e("div",{staticClass:"flex-v-center tool-bar"},[e("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.deptName,expression:"filter.deptName"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"借款部门"},domProps:{value:t.filter.deptName},on:{change:function(e){return t.$refs.list.update(!0)},input:function(e){e.target.composing||t.$set(t.filter,"deptName",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.loanUserName,expression:"filter.loanUserName"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"借款人"},domProps:{value:t.filter.loanUserName},on:{change:function(e){return t.$refs.list.update(!0)},input:function(e){e.target.composing||t.$set(t.filter,"loanUserName",e.target.value)}}}),t._v("\n            付款状态:\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.payStatus,expression:"filter.payStatus"}],staticClass:"f-14",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"payStatus",e.target.multiple?a:a[0])},function(e){return t.$refs.list.update(!0)}]}},[e("option",{attrs:{value:""}},[t._v("全部")]),e("option",{attrs:{value:"1"}},[t._v("未付款")]),e("option",{attrs:{value:"2"}},[t._v("付款中")]),e("option",{attrs:{value:"3"}},[t._v("付款完成")])]),t._v("\n            审批状态:\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.applyStatus,expression:"filter.applyStatus"}],staticClass:"f-14",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"applyStatus",e.target.multiple?a:a[0])},function(e){return t.$refs.list.update(!0)}]}},[e("option",{attrs:{value:""}},[t._v("全部")]),e("option",{attrs:{value:"1"}},[t._v("待审批")]),e("option",{attrs:{value:"2"}},[t._v("审批中")]),e("option",{attrs:{value:"3"}},[t._v("审批通过")]),e("option",{attrs:{value:"4"}},[t._v("审批不通过")])]),t._v("\n            状态:\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.status,expression:"filter.status"}],staticClass:"f-14",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"status",e.target.multiple?a:a[0])},function(e){return t.$refs.list.update(!0)}]}},[e("option",{attrs:{value:""}},[t._v("全部")]),e("option",{attrs:{value:"1"}},[t._v("待办")]),e("option",{attrs:{value:"2"}},[t._v("已办")])])]),e("div",{staticClass:"flex-item"})]),e("div",{staticClass:"flex-item scroll-y"},[e("data-list",{ref:"list",attrs:{"page-size":15,param:t.filter,url:"/haolifa/finance/loanapply/getLoanList",method:"post"},scopedSlots:t._u([{key:"item",fn:function(a){var s=a.item,i=a.index;return[e("td",{staticClass:"c-a"},[t._v(t._s(i))]),e("td",[t._v(t._s(s.serialNo))]),e("td",[t._v(t._s(s.deptName))]),e("td",[t._v(t._s(s.loanUserName))]),e("td",[t._v(t._s(s.amount))]),e("td",[t._v(t._s(s.amountTypeCN))]),e("td",[t._v(t._s(s.loanDate))]),e("td",[t._v(t._s(s.expectRepaymentDate))]),e("td",[t._v(t._s(s.accountName))]),e("td",[t._v(t._s(s.payCompany))]),e("td",[t._v(t._s(s.payAccount))]),e("td",[t._v(t._s(s.purpose))]),e("td",[t._v(t._s(s.remark))]),e("td",[t._v(t._s(s.applyStatusCN))]),e("td",[t._v(t._s(s.payStatusCN))]),e("td",[t._v(t._s(s.createTime))]),e("td",{staticClass:"t-right"},[s.canPay?e("a",{staticClass:"blue",attrs:{href:"javascript:;"},on:{click:function(e){return t.payment(s)}}},[t._v("出纳付款")]):t._e()])]}}])},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("编号")]),e("th",[t._v("借款部门")]),e("th",[t._v("借款人")]),e("th",[t._v("借款金额")]),e("th",[t._v("资金性质")]),e("th",[t._v("借款日期")]),e("th",[t._v("预计还款日期")]),e("th",[t._v("户名")]),e("th",[t._v("付款单位")]),e("th",[t._v("付款账户")]),e("th",[t._v("用途")]),e("th",[t._v("备注")]),e("th",[t._v("审批节点")]),e("th",[t._v("付款状态")]),e("th",[t._v("创建时间")]),e("th",{staticClass:"t-right",staticStyle:{width:"80px"}},[t._v("操作")])])])],1),t.layer?e("layer",{attrs:{title:t.出纳付款,width:"50%"}},[e("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{list:t.accountList,label:"付款账户"},model:{value:t.form.payAccount,callback:function(e){t.$set(t.form,"payAccount",e)},expression:"form.payAccount"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"付款单位"},model:{value:t.form.payCompany,callback:function(e){t.$set(t.form,"payCompany",e)},expression:"form.payCompany"}})],1),e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{list:t.amountTypeList,label:"记账方式"},model:{value:t.form.billNature,callback:function(e){t.$set(t.form,"billNature",e)},expression:"form.billNature"}})],1)]),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.save}},[t._v("保存")]),e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.close}},[t._v("关闭")])],1)]):t._e()],1)},i=[],l=a("9b68"),o={name:"cashAccounting",components:{DataList:l["a"]},data:function(){return{filter:{applyStatus:"",deptName:"",loanUserName:"",payCompany:"",payStatus:"",serialNo:"",status:"",type:"2"},layer:!1,layer2:!1,form:{billNature:"",id:"",payAccount:"",payCompany:"山西好利阀机械制造有限公司"},typeList:[{text:"收款",value:"1"},{text:"付款",value:"2"}],amountTypeList:[{text:"现金",value:"1"},{text:"支票",value:"2"},{text:"其他货币",value:"3"}],statusList:[],acceptList:[],blankList:[],deptList:[],payList:[{text:"电汇",value:"电汇"},{text:"支票",value:"支票"},{text:"汇票",value:"汇票"},{text:"现金",value:"现金"},{text:"其它",value:"其它"},{text:"承兑",value:"承兑"}],accountList:[]}},mounted:function(){this.getPayType(),this.getAcceptType(),this.getDeptList(),this.getAccount()},methods:{flush:function(){this.filter={applyStatus:"",deptName:"",loanUserName:"",payCompany:"",payStatus:"",serialNo:"",status:"",type:"2"},this.$refs.list.update(!0)},getPayType:function(){var t=this;this.$http.get("/haolifa/sys-dict/getDictListByType/PAYMENT_TYPE").then((function(e){e.map((function(e){t.statusList.push({text:e.desc,value:e.code})}))})).catch((function(e){t.$toast(e.msg||e.message)}))},getPayName:function(t){var e="";return this.statusList.map((function(a){a.value==t&&(e=a.text)})),e},getAcceptType:function(){var t=this;this.$http.get("/haolifa/sys-dict/getDictListByType/COLLECTION_TYPE").then((function(e){e.map((function(e){t.acceptList.push({text:e.desc,value:e.code})}))})).catch((function(e){t.$toast(e.msg||e.message)}))},getAccName:function(t){var e="";return this.acceptList.map((function(a){a.value==t&&(e=a.text)})),e},getDeptList:function(){var t=this;this.$http.get("/haolifa/dept/list").then((function(e){e.map((function(e){t.deptList.push({text:e.deptName,value:e.id+""})})),console.log(t.deptList)})).catch((function(e){t.$toast(e.msg||e.message)}))},getAccount:function(){var t=this;this.accountList=[],this.$http.get("/haolifa/sys-dict/getDictListByType/PAY_ACCOUNT").then((function(e){e.map((function(e){t.accountList.push({text:e.desc,value:e.desc})}))}))},payment:function(t){this.layer=!0,this.form.id=t.id},save:function(){var t=this;this.$http.post("/haolifa/finance/loanapply/pay",this.form).then((function(e){t.close(),t.$toast("保存成功"),t.$refs.list.update(!0)})).catch((function(e){t.$toast(e.msg||e.message)}))},close:function(){this.layer=!1,this.form={billNature:"",id:"",payAccount:"",payCompany:"山西好利阀机械制造有限公司"}}}},r=o,n=(a("5506"),a("0b56")),c=Object(n["a"])(r,s,i,!1,null,null,null);e["default"]=c.exports},b076:function(t,e,a){"use strict";a("1f22")},b4b3:function(t,e,a){},b952:function(t,e,a){"use strict";a.r(e);a("a450");var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-contract flex-col"},[e("i",{staticClass:"icon icon-abs",on:{click:t.flush}},[t._v("autorenew")]),e("div",{staticClass:"flex-v-center tool-bar"},[e("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),t._v("\n            开始时间:\n            "),e("el-date-picker",{staticStyle:{width:"180px"},attrs:{type:"date","value-format":"yyyy-MM-dd",editable:!1,placeholder:"选择年月日"},on:{change:function(e){t.$refs.list.update(!0),t.getPriceTotal()}},model:{value:t.filter.startDate,callback:function(e){t.$set(t.filter,"startDate",e)},expression:"filter.startDate"}}),t._v("结束时间:\n            "),e("el-date-picker",{staticStyle:{width:"180px"},attrs:{type:"date","value-format":"yyyy-MM-dd",editable:!1,placeholder:"选择年月日"},on:{change:function(e){t.$refs.list.update(!0),t.getPriceTotal()}},model:{value:t.filter.endDate,callback:function(e){t.$set(t.filter,"endDate",e)},expression:"filter.endDate"}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.orderNo,expression:"filter.orderNo"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"采购合同号"},domProps:{value:t.filter.orderNo},on:{change:function(e){t.$refs.list.update(!0),t.getPriceTotal()},input:function(e){e.target.composing||t.$set(t.filter,"orderNo",e.target.value)}}}),e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.supplierName,expression:"filter.supplierName"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"供应商"},domProps:{value:t.filter.supplierName},on:{change:function(e){t.$refs.list.update(!0),t.getPriceTotal()},input:function(e){e.target.composing||t.$set(t.filter,"supplierName",e.target.value)}}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.status,expression:"filter.status"}],staticClass:"f-14",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"status",e.target.multiple?a:a[0])},function(e){t.$refs.list.update(!0),t.getPriceTotal()}]}},[e("option",{attrs:{value:"0"}},[t._v("合同状态")]),t._l(t.statusList,(function(a){return e("option",{key:a.id,domProps:{value:a.status}},[t._v(t._s(a.name))])}))],2),e("i",{staticClass:"icon",staticStyle:{"margin-left":"-20px","pointer-events":"none"}},[t._v("arrow_drop_down")])],1),e("div",{staticClass:"flex-item",staticStyle:{"text-align":"right",color:"#0f95ff"}},[t._v("已付款总金额（元）:"+t._s(t.paidAccount))]),e("div",{staticClass:"flex-item",staticStyle:{"text-align":"right",color:"#0f95ff"}},[t._v("合同总金额（元）:"+t._s(t.priceTotal))])]),e("div",{staticClass:"flex-item scroll-y"},[e("data-list",{ref:"list",attrs:{method:"get","page-size":15,param:t.filter,url:"/haolifa/purchase-order/list/-1"},scopedSlots:t._u([{key:"item",fn:function(a){var s=a.item,i=a.index;return[e("td",[t._v(t._s(i))]),e("td",[t._v(t._s(s.purchaseOrderNo))]),e("td",[t._v(t._s(s.totalPrice))]),e("td",[t._v(t._s(s.supplierName))]),e("td",[t._v(t._s(s.paidAccount))]),e("td",[t._v(t._s(s.deliveryTime))]),e("td",[t._v(t._s(0==s.orderType?"零件采购":"毛坯加工"))]),e("td",[t._v(t._s(t.statusList[s.status-1].name))]),e("td",[t._v(t._s(s.createUserId))]),e("td",[t._v(t._s(s.createTime))]),e("td",{staticClass:"t-right"},[e("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(e){return t.info(s.id)}}},[t._v("查看")])])]}}])},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("合同编号")]),e("th",[t._v("合同总金额")]),e("th",[t._v("供方单位")]),e("th",[t._v("已付款")]),e("th",[t._v("采购完成日期")]),e("th",[t._v("合同类型")]),e("th",[t._v("订单状态")]),e("th",[t._v("创建人")]),e("th",[t._v("创建日期")]),e("th",{staticClass:"t-right",staticStyle:{width:"80px"}},[t._v("操作")])])])],1)])},i=[],l=a("9b68"),o={name:"page-contract",components:{DataList:l["a"]},data:function(){return{natureList:["国有","三资","集体","联营","私营"],priceTotal:"",paidAccount:"",statusList:[{status:1,name:"待审批"},{status:2,name:"审批中"},{status:3,name:"采购中"},{status:4,name:"审批不通过"},{status:5,name:"采购完成"}],filter:{orderNo:"",status:0,createUserId:0,supplierName:"",startDate:"",endDate:""}}},mounted:function(){this.getPriceTotal()},methods:{flush:function(){this.filter={orderNo:"",status:0,createUserId:0,supplierName:"",startDate:"",endDate:""},this.$refs.list.update(!0),this.getPriceTotal()},toProcOrder:function(){this.$router.push("/contract")},toProdOrder:function(){this.$router.push("/production")},info:function(t){this.$router.push("/contract/info?formId=".concat(t))},getPriceTotal:function(){var t=this;this.priceTotal=this.paidAccount="",this.$http.post("/haolifa/statistics/money/purchase",this.filter).then((function(e){t.priceTotal=e.totalPrice,t.paidAccount=e.paidAccount})).catch((function(e){t.$toast(e.msg||e.message)}))}}},r=o,n=(a("e9d9"),a("0b56")),c=Object(n["a"])(r,s,i,!1,null,null,null);e["default"]=c.exports},b9e6:function(t,e,a){"use strict";a("630b")},d067:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-cashAccounting-list"},[e("i",{staticClass:"icon icon-abs",on:{click:t.flush}},[t._v("autorenew")]),e("div",{staticClass:"flex-v-center tool-bar"},[e("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[e("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.certificateNumber,expression:"filter.certificateNumber"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"凭证号"},domProps:{value:t.filter.certificateNumber},on:{change:function(e){return t.$refs.list.update(!0)},input:function(e){e.target.composing||t.$set(t.filter,"certificateNumber",e.target.value)}}}),t._v("\n            记账类别:\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.type,expression:"filter.type"}],staticClass:"f-14",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"type",e.target.multiple?a:a[0])},function(e){return t.$refs.list.update(!0)}]}},[e("option",{attrs:{value:""}},[t._v("全部")]),e("option",{attrs:{value:"1"}},[t._v("收款")]),e("option",{attrs:{value:"2"}},[t._v("付款")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.collectCompany,expression:"filter.collectCompany"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"收款单位"},domProps:{value:t.filter.collectCompany},on:{change:function(e){return t.$refs.list.update(!0)},input:function(e){e.target.composing||t.$set(t.filter,"collectCompany",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.payCompany,expression:"filter.payCompany"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"付款单位"},domProps:{value:t.filter.payCompany},on:{change:function(e){return t.$refs.list.update(!0)},input:function(e){e.target.composing||t.$set(t.filter,"payCompany",e.target.value)}}}),t._v("\n            银行账户:\n            "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filter.payAccount,expression:"filter.payAccount"}],staticClass:"f-14",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filter,"payAccount",e.target.multiple?a:a[0])},function(e){return t.$refs.list.update(!0)}]}},[e("option",{attrs:{value:""}},[t._v("全部")]),t._l(t.accountList,(function(a,s){return e("option",{attrs:{index:s},domProps:{value:a.text}},[t._v(t._s(a.text))])}))],2)]),e("div",{staticClass:"flex-item"}),e("btn",{staticClass:"b",attrs:{flat:"",color:"#008eff"},on:{click:function(e){return t.add("1")}}},[t._v("收款新增")]),e("btn",{staticClass:"b",attrs:{flat:"",color:"#008eff"},on:{click:function(e){return t.add("2")}}},[t._v("付款新增")])],1),e("div",{staticClass:"flex-item scroll-y"},[e("data-list",{ref:"list",attrs:{"page-size":15,param:t.filter,url:"/haolifa/finance/otherbill/getOtherBillList",method:"post"},scopedSlots:t._u([{key:"item",fn:function(a){var s=a.item,i=a.index;return[e("td",{staticClass:"c-a"},[t._v(t._s(i))]),e("td",[t._v(t._s(1==s.type?"收款":"付款"))]),e("td",[t._v(t._s(s.operateDate))]),e("td",[t._v(t._s(s.certificateNumber))]),e("td",[t._v(t._s(s.collectCompany))]),e("td",[t._v(t._s(s.payCompany))]),e("td",[t._v(t._s(s.payAccount))]),e("td",[t._v(t._s(s.payWay))]),e("td",[t._v(t._s(t.getPayName(s.collectionType)))]),e("td",[t._v(t._s(s.collectionMoney))]),e("td",[t._v(t._s(t.getPayName(s.paymentType)))]),e("td",[t._v(t._s(s.payment))]),e("td",[t._v(t._s(s.preMonthMoney))]),e("td",[t._v(t._s(s.balance))]),e("td",[t._v(t._s(s.deptId))]),e("td",[t._v(t._s(s.contractUser))]),e("td",[t._v(t._s(s.createTime))]),e("td",[t._v(t._s(s.remark))])]}}])},[e("tr",{attrs:{slot:"header"},slot:"header"},[e("th",{staticStyle:{width:"60px"}},[t._v("序号")]),e("th",[t._v("记账类别")]),e("th",[t._v("日期")]),e("th",[t._v("凭证号")]),e("th",[t._v("收款单位")]),e("th",[t._v("付款单位")]),e("th",[t._v("收/付款账户")]),e("th",[t._v("收/付款方式")]),e("th",[t._v("收款类别")]),e("th",[t._v("收款")]),e("th",[t._v("付款类别")]),e("th",[t._v("付款")]),e("th",[t._v("上月结转")]),e("th",[t._v("余额")]),e("th",[t._v("部门")]),e("th",[t._v("经办人")]),e("th",[t._v("创建时间")]),e("th",[t._v("备注")])])])],1),t.layer?e("layer",{attrs:{title:t.form.id?"收款编辑":"收款新增",width:"50%"}},[e("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{disabled:!0,list:t.typeList,label:"记账类别"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"序号"},model:{value:t.form.serialNo,callback:function(e){t.$set(t.form,"serialNo",e)},expression:"form.serialNo"}}),e("date-picker",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{hint:"必填",label:"日期"},model:{value:t.form.operateDate,callback:function(e){t.$set(t.form,"operateDate",e)},expression:"form.operateDate"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"凭证号"},model:{value:t.form.certificateNumber,callback:function(e){t.$set(t.form,"certificateNumber",e)},expression:"form.certificateNumber"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"收款单位"},model:{value:t.form.collectCompany,callback:function(e){t.$set(t.form,"collectCompany",e)},expression:"form.collectCompany"}})],1),e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{hint:"必填",list:t.payList,label:"收款方式"},model:{value:t.form.payWay,callback:function(e){t.$set(t.form,"payWay",e)},expression:"form.payWay"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"付款单位"},model:{value:t.form.payCompany,callback:function(e){t.$set(t.form,"payCompany",e)},expression:"form.payCompany"}})],1),e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{list:t.accountList,label:"收款账户"},model:{value:t.form.payAccount,callback:function(e){t.$set(t.form,"payAccount",e)},expression:"form.payAccount"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"收款"},model:{value:t.form.collectionMoney,callback:function(e){t.$set(t.form,"collectionMoney",e)},expression:"form.collectionMoney"}})],1),e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{hint:"必填",list:t.acceptList,label:"收款类别"},model:{value:t.form.collectionType,callback:function(e){t.$set(t.form,"collectionType",e)},expression:"form.collectionType"}}),e("select-box",{staticClass:"flex-item mr-20",attrs:{hint:"必填",list:t.deptList,label:"所属部门"},model:{value:t.form.deptId,callback:function(e){t.$set(t.form,"deptId",e)},expression:"form.deptId"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"备注"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)]),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.save}},[t._v("保存")]),e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.close}},[t._v("关闭")])],1)]):t._e(),t.layer2?e("layer",{attrs:{title:t.form.id?"付款编辑":"付款新增",width:"50%"}},[e("div",{staticClass:"layer-text",staticStyle:{"padding-bottom":"50px"}},[e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{disabled:!0,list:t.typeList,label:"记账类别"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"序号"},model:{value:t.form.serialNo,callback:function(e){t.$set(t.form,"serialNo",e)},expression:"form.serialNo"}}),e("date-picker",{staticClass:"flex-item",staticStyle:{"margin-right":"20px"},attrs:{hint:"必填",label:"日期"},model:{value:t.form.operateDate,callback:function(e){t.$set(t.form,"operateDate",e)},expression:"form.operateDate"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"凭证号"},model:{value:t.form.certificateNumber,callback:function(e){t.$set(t.form,"certificateNumber",e)},expression:"form.certificateNumber"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"付款单位"},model:{value:t.form.payCompany,callback:function(e){t.$set(t.form,"payCompany",e)},expression:"form.payCompany"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"收款单位"},model:{value:t.form.collectCompany,callback:function(e){t.$set(t.form,"collectCompany",e)},expression:"form.collectCompany"}}),e("select-box",{staticClass:"flex-item mr-20",attrs:{hint:"必填",list:t.payList,label:"付款方式"},model:{value:t.form.payWay,callback:function(e){t.$set(t.form,"payWay",e)},expression:"form.payWay"}})],1),e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{list:t.accountList,label:"付款账户"},model:{value:t.form.payAccount,callback:function(e){t.$set(t.form,"payAccount",e)},expression:"form.payAccount"}}),e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"付款"},model:{value:t.form.payment,callback:function(e){t.$set(t.form,"payment",e)},expression:"form.payment"}})],1),e("div",{staticClass:"flex"},[e("select-box",{staticClass:"flex-item mr-20",attrs:{hint:"必填",list:t.statusList,label:"付款类别"},model:{value:t.form.paymentType,callback:function(e){t.$set(t.form,"paymentType",e)},expression:"form.paymentType"}}),e("select-box",{staticClass:"flex-item mr-20",attrs:{hint:"必填",list:t.deptList,label:"所属部门"},model:{value:t.form.deptId,callback:function(e){t.$set(t.form,"deptId",e)},expression:"form.deptId"}})],1),e("div",{staticClass:"flex"},[e("input-box",{staticClass:"flex-item mr-20",attrs:{label:"备注"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)]),e("div",{staticClass:"layer-btns"},[e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.save}},[t._v("保存")]),e("btn",{attrs:{flat:"",color:"#008eff"},on:{click:t.close}},[t._v("关闭")])],1)]):t._e()],1)},i=[],l=a("9b68"),o={name:"cashAccounting",components:{DataList:l["a"]},data:function(){return{filter:{certificateNumber:"",collectCompany:"",operateDateEnd:"",operateDateStart:"",payAccount:"",payCompany:"",paymentType:"",type:""},layer:!1,layer2:!1,form:{account:"",certificateNumber:"",collectCompany:"",collectionMoney:"",collectionType:"",company:"",contractStatus:"",deptId:"",operateDate:"",payAccount:"",payCompany:"",payCompanyId:"",payWay:"",payment:"",paymentType:"",remark:"",serialNo:"",type:""},typeList:[{text:"收款",value:"1"},{text:"付款",value:"2"}],statusList:[],acceptList:[],blankList:[],deptList:[],payList:[{text:"电汇",value:"电汇"},{text:"支票",value:"支票"},{text:"汇票",value:"汇票"},{text:"现金",value:"现金"},{text:"其它",value:"其它"},{text:"承兑",value:"承兑"}],accountList:[]}},mounted:function(){this.getPayType(),this.getAcceptType(),this.getDeptList(),this.getAccount()},methods:{flush:function(){this.filter={certificateNumber:"",collectCompany:"",operateDateEnd:"",operateDateStart:"",payAccount:"",payCompany:"",paymentType:"",type:""},this.$refs.list.update(!0)},getPayType:function(){var t=this;this.$http.get("/haolifa/sys-dict/getDictListByType/PAYMENT_TYPE").then((function(e){e.map((function(e){t.statusList.push({text:e.desc,value:e.code})}))})).catch((function(e){t.$toast(e.msg||e.message)}))},getAccount:function(){var t=this;this.accountList=[],this.$http.get("/haolifa/sys-dict/getDictListByType/PAY_ACCOUNT").then((function(e){e.map((function(e){t.accountList.push({text:e.desc,value:e.desc})}))}))},getPayName:function(t){var e="";return this.statusList.map((function(a){a.value==t&&(e=a.text)})),e},getAcceptType:function(){var t=this;this.$http.get("/haolifa/sys-dict/getDictListByType/COLLECTION_TYPE").then((function(e){e.map((function(e){t.acceptList.push({text:e.desc,value:e.code})}))})).catch((function(e){t.$toast(e.msg||e.message)}))},getAccName:function(t){var e="";return this.acceptList.map((function(a){a.value==t&&(e=a.text)})),e},getDeptList:function(){var t=this;this.$http.get("/haolifa/dept/list").then((function(e){e.map((function(e){t.deptList.push({text:e.deptName,value:e.id})}))})).catch((function(e){t.$toast(e.msg||e.message)}))},edit:function(t){1==t.type?this.layer=!0:this.layer2=!0,this.form.id=t.id,this.form.type=t.type,this.form.serialNo=t.serialNo,this.form.operateDate=t.operateDate,this.form.certificateNumber=t.certificateNumber,this.form.payCompany=t.payCompany,this.form.collectCompany=t.collectCompany,this.form.payWay=t.payWay,this.form.payAccount=t.payAccount,this.form.deptId=t.deptId,this.form.paymentType=t.paymentType,this.form.payment=t.payment,this.form.remark=t.remark,this.form.collectionMoney=t.collectionMoney,this.form.collectionType=t.collectionType},remove:function(t){var e=this;this.$confirm({title:"删除确认",text:"您确定要删除吗？",color:"red",btns:["取消","删除"],yes:function(){e.$http.get("/haolifa/finance/otherbill/delete/".concat(t.id)).then((function(t){e.$toast("删除成功"),e.$refs.list.update(!0)})).catch((function(t){e.$toast(t.msg||t.message)}))}})},add:function(t){this.form.type=t,1==t?(this.layer=!0,this.form.payCompany="",this.form.collectCompany="山西好利阀机械制造有限公司"):(this.layer2=!0,this.form.payCompany="山西好利阀机械制造有限公司",this.form.collectCompany="")},save:function(){var t=this;this.$confirm({title:"确认",text:"请确认数据是否正确，保存后无法修改",color:"red",btns:["取消","确认"],yes:function(){var e=t.form.id?"/haolifa/finance/otherbill/updateOtherBill":"/haolifa/finance/otherbill/save";t.$http.post(e,t.form).then((function(e){t.close(),t.$toast("保存成功"),t.$refs.list.update(!0)})).catch((function(e){t.$toast(e.msg||e.message)}))}})},close:function(){this.layer=this.layer2=!1,this.form={account:"",certificateNumber:"",collectCompany:"",collectionMoney:"",collectionType:"",company:"",contractStatus:"",deptId:"",operateDate:"",payAccount:"山西好利阀机械制造有限公司",payCompany:"",payCompanyId:"",payWay:"",payment:"",paymentType:"",remark:"",serialNo:"",type:""}}}},r=o,n=(a("4fe0"),a("0b56")),c=Object(n["a"])(r,s,i,!1,null,null,null);e["default"]=c.exports},d51c:function(t,e,a){t.exports=a("f263")},e6ec:function(t,e,a){"use strict";a("6b29")},e9d9:function(t,e,a){"use strict";a("b4b3")},ee68:function(t,e,a){var s=a("7c2b");s(s.S+s.F*!a("5e9e"),"Object",{defineProperty:a("597a").f})},f263:function(t,e,a){a("ee68");var s=a("ce99").Object;t.exports=function(t,e,a){return s.defineProperty(t,e,a)}},fb5f:function(t,e,a){"use strict";a("583e")}}]);
//# sourceMappingURL=contract.5d087b59.js.map