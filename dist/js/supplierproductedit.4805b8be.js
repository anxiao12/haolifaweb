(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["supplierproductedit"],{3100:function(t,e,i){},"4a867":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-product-add abs scroll-y"},[e("div",{staticClass:"form-content"},[e("div",{staticClass:"title b f-18"},[t._v("编辑供应商产品")]),e("div",{staticClass:"flex-v-center"},[e("input-box",{staticClass:"flex-item mr-10",attrs:{label:"供货物料图号"},model:{value:t.form.materialGraphNo,callback:function(e){t.$set(t.form,"materialGraphNo",e)},expression:"form.materialGraphNo"}}),e("input-box",{staticClass:"flex-item mr-10",attrs:{label:"产品名称"},model:{value:t.form.materialName,callback:function(e){t.$set(t.form,"materialName",e)},expression:"form.materialName"}})],1),e("div",{staticClass:"flex-v-center"},[e("select-box",{staticStyle:{width:"25%"},attrs:{list:t.materialTypeList,label:"产品类型"},model:{value:t.form.materialType,callback:function(e){t.$set(t.form,"materialType",e)},expression:"form.materialType"}}),e("select-box",{staticClass:"flex-item ml-10 mr-10",attrs:{list:t.supplierList,label:"供应商"},model:{value:t.form.supplierNo,callback:function(e){t.$set(t.form,"supplierNo",e)},expression:"form.supplierNo"}})],1)]),e("div",{staticClass:"flex-v-center",staticStyle:{margin:"20px 0"}},[e("btn",{staticClass:"mr-20",attrs:{big:"",disabled:!t.canSubmit},on:{click:t.submit}},[t._v("提交")]),e("btn",{staticClass:"mr-20",attrs:{big:"",flat:"",bg:""},on:{click:t.cancel}},[t._v("取消")])],1)])},s=[],r=(i("a450"),{name:"page-product-add",data:function(){return{form:{id:"",annualProduction:"",mainCustomer:"",materialGraphNo:"",materialName:"",materialType:"",supplierNo:""},materialTypeList:[{text:"供货原料",value:0},{text:"其他原料",value:1},{text:"阀体",value:2},{text:"阀座",value:3},{text:"阀板",value:4},{text:"阀杆",value:5},{text:"通用零件",value:6},{text:"驱动",value:7},{text:"标准件",value:8}],supplierList:[]}},computed:{canSubmit:function(){var t=this.form;return t.materialName&&t.supplierNo}},activated:function(){var t=this.$route.query.id;void 0!==t&&"supplierproduct-edit"===this.$route.name&&this.getInfo(t),this.getSupplierList()},created:function(){var t=this.$route.query.id;void 0!==t&&"supplierproduct-edit"===this.$route.name&&this.getInfo(t),this.getSupplierList()},methods:{getInfo:function(t){var e=this;this.$http.get("/haolifa/supplier-pro/info/".concat(t)).then((function(t){for(var i in e.form)void 0!==e.form[i]&&(e.form[i]=t[i])})).catch((function(t){e.$toast(t.msg||t.message)}))},getSupplierList:function(){var t=this;this.$http.get("/haolifa/supplier/list-all/").then((function(e){t.supplierList=e.map((function(t){return{value:t.suppilerNo,text:t.suppilerName}}))}))},cancel:function(){var t=this;this.$confirm({title:"您确定要离开此页面吗？",text:"您的表单将不会保存",color:"red",btns:["取消","离开"],yes:function(){t.$store.commit("DELMENUTABS","/supplierproduct/edit"),t.$router.push("/supplierproduct/addList")}})},submit:function(){var t=this,e=this.form;this.loading=!0,this.$http.post("/haolifa/supplier-pro/".concat(e.id?"update":"save"),e).then((function(e){t.$toast("修改成功"),t.loading=!1,t.$store.commit("DELMENUTABS","/supplierproduct/edit"),t.$router.push("/supplierproduct/addList")})).catch((function(e){t.loading=!1,t.$toast(e.msg||e.message)}))}}}),l=r,o=(i("52e0"),i("0b56")),u=Object(o["a"])(l,a,s,!1,null,null,null);e["default"]=u.exports},"52e0":function(t,e,i){"use strict";i("3100")}}]);
//# sourceMappingURL=supplierproductedit.4805b8be.js.map