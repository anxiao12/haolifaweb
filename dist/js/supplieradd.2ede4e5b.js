(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["supplieradd"],{"03a0":function(t,s,a){"use strict";a("68fa")},"056e":function(t,s,a){},"14fa":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"page-supplier-manage flex-col mt-20 ml-20"},[s("div",{staticClass:"flex-item scroll-y"},[s("table",{staticClass:"data-table"},[s("tr",{attrs:{slot:"header"},slot:"header"},[s("th",{staticStyle:{width:"60px"}},[t._v("序号")]),s("th",[t._v("文件名称")]),s("th",[t._v("下载地址")])]),t._l(t.accessoryList,(function(a,e){return s("tr",[s("td",[t._v(t._s(e))]),s("td",[t._v(t._s(a.fileName))]),s("td",[s("a",{staticClass:"fixed-length",attrs:{href:a.fileUrl,title:a.fileUrl}},[t._v(t._s(a.fileUrl))])])])}))],2)])])},i=[],n=(a("ac6a"),a("9b68")),o={name:"page-supplier-manage",components:{DataList:n["a"]},data:function(){return{accessoryList:[]}},activated:function(){this.accessoryList=[],this.getAccessory()},created:function(){this.getAccessory()},methods:{getAccessory:function(){var t=this,s=this.$route.query.formNo;this.$http.get("/haolifa/flowInstance/flow/accessoryInfo?formNo=".concat(s,"&formId=0")).then((function(s){s.forEach((function(s){""!=s.fileUrl&&t.accessoryList.push(s)}))})).catch((function(s){t.$toast(s.msg||s.message)}))}}},r=o,c=(a("03a0"),a("2877")),l=Object(c["a"])(r,e,i,!1,null,null,null);s["default"]=l.exports},"153b":function(t,s,a){"use strict";s["a"]=function(t){return new Promise((function(s,a){var e=new FileReader;e.readAsDataURL(t),e.onload=function(){s(e.result)},e.onerror=function(t){a(t)}}))}},2051:function(t,s,a){"use strict";a.r(s);a("4917");var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"page-supplier-info abs scroll-y"},[s("div",{staticClass:"form-content"},[s("div",{staticClass:"b f-18 flex-v-center",staticStyle:{"margin-bottom":"20px"}},[s("icon-btn",{staticClass:"mr-15",on:{click:function(s){t.$store.commit("DELMENUTABS","/process/supplier/"+t.$route.params.id),t.$router.back()}}},[t._v("arrow_back")]),s("div",{staticClass:"flex-item"},[t._v("供应商详情")]),s("router-link",{attrs:{to:"/supplier/edit?id="+t.$route.params.id}},[s("icon-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"编辑",expression:"'编辑'"}],attrs:{small:""}},[t._v("edit")])],1)],1),t.info.id?t._e():s("no-data",{staticStyle:{margin:"50px 0"}}),t.info.id?s("table",{staticClass:"f-14"},[t._m(0),t._m(1),s("tr",[s("th",{attrs:{colspan:"1"}},[t._v("企业名称：")]),s("td",{attrs:{colspan:"9"}},[t._v(t._s(t.info.suppilerName))])]),s("tr",[s("th",{attrs:{colspan:"1"}},[t._v("企业性质：")]),s("td",{attrs:{colspan:"2"}},[t._v(t._s(t.natureList[t.info.nature]))]),s("th",{attrs:{colspan:"1"}},[t._v("地址：")]),s("td",{attrs:{colspan:"6"}},[t._v(t._s(t.info.address))])]),s("tr",[s("th",{attrs:{colspan:"1"}},[t._v("企业网址：")]),s("td",{attrs:{colspan:"2"}},[t._v(t._s(t.info.website))]),s("th",{attrs:{colspan:"1"}},[t._v("企业电话：")]),s("td",{attrs:{colspan:"2"}},[t._v(t._s(t.info.phone))]),s("th",{attrs:{colspan:"1"}},[t._v("邮编：")]),s("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.postcode))]),s("th",{attrs:{colspan:"1"}},[t._v("传真：")]),s("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.fax))])]),s("tr",[s("th",{attrs:{colspan:"1"}},[t._v("法人姓名：")]),s("td",{attrs:{colspan:"2"}},[t._v(t._s(t.info.legalPerson))]),s("th",{attrs:{colspan:"1"}},[t._v("法人电话：")]),s("td",{attrs:{colspan:"2"}},[t._v(t._s(t.info.legalPersonPhone))]),s("th",{attrs:{colspan:"1"}},[t._v("供应商提供产品：")]),s("td",{attrs:{colspan:"3"}},[t._v(t._s(t.info.supplierProduct))])]),s("tr",[s("th",{attrs:{colspan:"1"}},[t._v("工厂总面积：")]),s("td",{attrs:{colspan:"2"}},[t._v("\n                    "+t._s(t.info.totalFactoryArea)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("平米")])]),s("th",{attrs:{colspan:"1"}},[t._v("建筑面积：")]),s("td",{attrs:{colspan:"2"}},[t._v("\n                    "+t._s(t.info.totalArchitArea)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("平米")])]),s("th",{attrs:{colspan:"1"}},[t._v("班次：")]),s("td",{attrs:{colspan:"3"}},[t._v(t._s(t.workTypeList[t.info.workType]))])]),s("tr",[s("th",{attrs:{colspan:"1"}},[t._v("工艺路线：")]),s("td",{attrs:{colspan:"9"}},[t._v(t._s(t.info.processRoute))])]),s("tr",[s("th",{attrs:{colspan:"1"}},[t._v("供应商评价：")]),s("td",{attrs:{colspan:"9"}},[t._v(t._s(t.info.evaluation))])]),s("tr",[s("th",{attrs:{colspan:"1"}},[t._v("供应商编号：")]),s("td",{attrs:{colspan:"5"}},[t._v(t._s(t.info.suppilerNo))]),s("th",{attrs:{colspan:"1"}},[t._v("填表人：")]),s("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.suppilerPreparer))]),s("th",{attrs:{colspan:"1"}},[t._v("负责人：")]),s("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.responsiblePerson))])]),t._m(2),t._l(t.info.accessories,(function(a,e){return s("tr",{key:e},[s("td",{attrs:{colspan:"6"}},[t._v(t._s(a.fileName))]),s("td",{attrs:{colspan:"6"}},[a.fileUrl.match(".(pdf|jpe?g|png|bmp)$")?s("a",{attrs:{target:"_blank",href:a.fileUrl}},[t._v("预览")]):t._e(),a.fileUrl.match(".(pdf|jpe?g|png|bmp)$")?t._e():s("a",{attrs:{target:"_blank",href:"http://view.officeapps.live.com/op/view.aspx?src="+a.fileUrl}},[t._v("预览")])])])})),t._m(3),s("tr",[s("th",{attrs:{colspan:"1"}},[t._v("员工总人数：")]),s("td",{attrs:{colspan:"1"}},[t._v("\n                    "+t._s(t.info.staffInfo.totalWorkers)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("人")])]),s("th",{attrs:{colspan:"1"}},[t._v("管理人员：")]),s("td",{attrs:{colspan:"1"}},[t._v("\n                    "+t._s(t.info.staffInfo.managerWorkers)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("人")])]),s("th",{attrs:{colspan:"1"}},[t._v("生产工人：")]),s("td",{attrs:{colspan:"1"}},[t._v("\n                    "+t._s(t.info.staffInfo.productionWorkers)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("人")])]),s("th",{attrs:{colspan:"1"}},[t._v("技术人员：")]),s("td",{attrs:{colspan:"1"}},[t._v("\n                    "+t._s(t.info.staffInfo.technicistWorkers)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("人")])]),s("td",{attrs:{colspan:"2"}})]),t._m(4),s("tr",[s("td",{attrs:{colspan:"10"}},[s("div",{staticClass:"flex checkbox-list"},[s("div",{staticClass:"flex-v-center checkbox-item"},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.credentialsInfo.charter?"check_box":"check_box_outline_blank"))]),s("span",[t._v("营业执照")])]),s("div",{staticClass:"flex-v-center checkbox-item"},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.credentialsInfo.tax?"check_box":"check_box_outline_blank"))]),s("span",[t._v("税务登记证书")])]),s("div",{staticClass:"flex-v-center checkbox-item"},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.credentialsInfo.legalPersonCode?"check_box":"check_box_outline_blank"))]),s("span",[t._v("法人代码证书")])]),s("div",{staticClass:"flex-v-center checkbox-item"},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.credentialsInfo.bankOpenAccount?"check_box":"check_box_outline_blank"))]),s("span",[t._v("银行开户声明")])]),s("div",{staticClass:"flex-v-center checkbox-item"},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.credentialsInfo.credibilityLetter?"check_box":"check_box_outline_blank"))]),s("span",[t._v("银行资信证明")])]),s("div",{staticClass:"flex-v-center checkbox-item"},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.credentialsInfo.manufacturerAuthorization?"check_box":"check_box_outline_blank"))]),s("span",[t._v("制造商授权证书")])]),s("div",{staticClass:"flex-v-center checkbox-item"},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.credentialsInfo.productCertification?"check_box":"check_box_outline_blank"))]),s("span",[t._v("产品鉴定证书")])]),s("div",{staticClass:"flex-v-center checkbox-item"},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.credentialsInfo.productPermit?"check_box":"check_box_outline_blank"))]),s("span",[t._v("生产许可证书")])]),s("div",{staticClass:"flex-v-center checkbox-item"},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.credentialsInfo.importAndExportCertification?"check_box":"check_box_outline_blank"))]),s("span",[t._v("进出口企业资格证书")])]),s("div",{staticClass:"flex-v-center checkbox-item"},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.credentialsInfo.otherCertification?"check_box":"check_box_outline_blank"))]),s("span",[t._v("相关体系认证证书")])])])])]),t._m(5),s("tr",[s("td",{attrs:{colspan:"5"}},[s("div",{staticClass:"flex checkbox-list"},[s("div",{staticClass:"flex-v-center checkbox-item",staticStyle:{width:"180px"}},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.qualityAssuranceInfo.buildQualitySystem?"check_box":"check_box_outline_blank"))]),s("span",[t._v("是否建立质量保障体系")])]),s("div",{staticClass:"flex-v-center checkbox-item"},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.qualityAssuranceInfo.passThirdAttestation?"check_box":"check_box_outline_blank"))]),s("span",[t._v("是否通过第三方认证")])])])]),s("th",{attrs:{colspan:"2"}},[t._v("第二方确认单位：")]),s("td",{attrs:{colspan:"3"}},[t._v(t._s(t.info.qualityAssuranceInfo.secondConfirm))])]),t._m(6),s("tr",[s("th",{attrs:{colspan:"1"}},[t._v("企业净值：")]),s("td",{attrs:{colspan:"2"}},[t._v("\n                    "+t._s(t.info.financialInfo.netWorth)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("万元")])]),s("th",{attrs:{colspan:"1"}},[t._v("目前负债：")]),s("td",{attrs:{colspan:"2"}},[t._v("\n                    "+t._s(t.info.financialInfo.liabilities)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("万元")])]),s("th",{attrs:{colspan:"1"}},[t._v("目前资产：")]),s("td",{attrs:{colspan:"3"}},[t._v("\n                    "+t._s(t.info.financialInfo.asset)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("万元")])])]),t._m(7),t._l(t.info.financialInfo.businessStateList,(function(a){return s("tr",{key:a.id},[s("td",{attrs:{colspan:"1"}},[t._v("\n                    "+t._s(a.year)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("年")])]),s("th",{attrs:{colspan:"1"}},[t._v("年销售额：")]),s("td",{attrs:{colspan:"2"}},[t._v("\n                    "+t._s(a.sale)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("万元")])]),s("th",{attrs:{colspan:"1"}},[t._v("利润：")]),s("td",{attrs:{colspan:"2"}},[t._v("\n                    "+t._s(a.profit)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("万元")])]),s("th",{attrs:{colspan:"1"}},[t._v("备注：")]),s("td",{attrs:{colspan:"2"}},[t._v(t._s(a.desc))])])})),t._m(8),t._l(t.info.mainOrgan,(function(a){return s("tr",{key:a.id},[s("th",{attrs:{colspan:"1"}},[t._v("部门名称：")]),s("td",{attrs:{colspan:"2"}},[t._v(t._s(a.department))]),s("th",{attrs:{colspan:"1"}},[t._v("负责人：")]),s("td",{attrs:{colspan:"1"}},[t._v(t._s(a.leader))]),s("th",{attrs:{colspan:"1"}},[t._v("电话：")]),s("td",{attrs:{colspan:"2"}},[t._v(t._s(a.phone))]),s("th",{attrs:{colspan:"1"}},[t._v("传真：")]),s("td",{attrs:{colspan:"1"}},[t._v(t._s(a.fax))])])}))],2):t._e()],1)])},i=[function(){var t=this,s=t._self._c;return s("tr",[s("td",{staticStyle:{width:"10%"}}),s("td",{staticStyle:{width:"10%"}}),s("td",{staticStyle:{width:"10%"}}),s("td",{staticStyle:{width:"10%"}}),s("td",{staticStyle:{width:"10%"}}),s("td",{staticStyle:{width:"10%"}}),s("td",{staticStyle:{width:"10%"}}),s("td",{staticStyle:{width:"10%"}}),s("td",{staticStyle:{width:"10%"}}),s("td",{staticStyle:{width:"10%"}})])},function(){var t=this,s=t._self._c;return s("tr",[s("td",{staticClass:"b",attrs:{colspan:"10"}},[t._v("基本情况")])])},function(){var t=this,s=t._self._c;return s("tr",[s("td",{staticClass:"b",attrs:{colspan:"10"}},[t._v("供应商附件")])])},function(){var t=this,s=t._self._c;return s("tr",[s("td",{staticClass:"b",attrs:{colspan:"10"}},[t._v("员工情况")])])},function(){var t=this,s=t._self._c;return s("tr",[s("td",{staticClass:"b",attrs:{colspan:"10"}},[t._v("资格证书")])])},function(){var t=this,s=t._self._c;return s("tr",[s("td",{staticClass:"b",attrs:{colspan:"10"}},[t._v("质量保障体系")])])},function(){var t=this,s=t._self._c;return s("tr",[s("td",{staticClass:"b",attrs:{colspan:"10"}},[t._v("财务状况")])])},function(){var t=this,s=t._self._c;return s("tr",[s("td",{staticClass:"b",attrs:{colspan:"10"}},[t._v("近三年经营情况")])])},function(){var t=this,s=t._self._c;return s("tr",[s("td",{staticClass:"b",attrs:{colspan:"10"}},[t._v("主要机构")])])}],n=(a("6b54"),a("ac6a"),a("8f5f")),o={name:"page-supplier-info",data:function(){return{loading:!1,natureList:["国有","三资","集体","联营","私营"],workTypeList:["正常","两班倒","三班倒"],info:{}}},created:function(){this.getInfo()},activated:function(){this.getInfo()},methods:{getInfo:function(){var t=this,s=this.$route.params.id;this.$http.get("/haolifa/supplier/info?id=".concat(s)).then((function(s){s=Object(n["a"])(s,["credentialsInfo","financialInfo","mainOrgan","qualityAssuranceInfo","staffInfo"]),s.mainOrgan&&s.mainOrgan.length&&s.mainOrgan.forEach((function(t){t.id=Math.random()})),s.financialInfo&&s.financialInfo.businessStateList&&s.financialInfo.businessStateList.length&&s.financialInfo.businessStateList.forEach((function(t){t.id=Math.random().toString()})),t.info=s})).catch((function(s){t.$toast(s.msg)}))}}},r=o,c=(a("6611"),a("2877")),l=Object(c["a"])(r,e,i,!1,null,null,null);s["default"]=l.exports},"3c35":function(t,s,a){},"41bb":function(t,s,a){},4832:function(t,s,a){},6611:function(t,s,a){"use strict";a("056e")},"68fa":function(t,s,a){},"8dc2":function(t,s,a){"use strict";a("a56d")},"8f5f":function(t,s,a){"use strict";a.d(s,"a",(function(){return e}));a("ac6a");function e(t,s){return s.forEach((function(s){var a=t[s];a&&"string"===typeof a&&(t[s]=JSON.parse(a))})),t}},9383:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"abs scroll-y"},[s("div",{staticClass:"metalwork-info",staticStyle:{width:"100%",margin:"0 auto"}},[s("div",{staticClass:"b f-18 flex-v-center",staticStyle:{"margin-bottom":"20px"}},[s("icon-btn",{staticClass:"mr-15",on:{click:function(s){t.$store.commit("DELMENUTABS","/supplier/approveProgress"),t.$router.back()}}},[t._v("arrow_back")]),s("div",{staticClass:"flex-item"},[t._v("审批进度")])],1),s("div",{staticStyle:{"min-width":"1200px"}},t._l(t.list,(function(a,e){return s("div",{key:e,staticClass:"approve"},[s("p",[t._v(t._s(a.roleName))]),s("p",{class:4==a.auditResult?"button ccc":"button"},[t._v(t._s(a.stepName))]),e<t.list.length-1?s("span",[t._v("-----\x3e")]):t._e(),s("p",[t._v(t._s(t.status[a.auditResult])+t._s(a.auditTime))]),a.child.length>0?s("div",{staticClass:"approve",staticStyle:{position:"absolute",top:"123px"}},[s("div",{staticClass:"height-line"}),s("div",{staticClass:"bottom-arrows"}),s("p",[t._v(t._s(a.child[0].roleName))]),s("p",{class:4==a.child[0].auditResult?"button ccc":"button"},[t._v(t._s(a.child[0].stepName))]),s("p",[t._v(t._s(t.status[a.child[0].auditResult])+t._s(a.auditTime))]),s("div",{staticClass:"right-height-line"}),s("div",{staticClass:"top-arrows"})]):t._e()])})),0)])])},i=[],n={name:"supplier-approveProgress",data:function(){return{list:[],status:{0:"审核不通过",1:"审核通过",3:"流程初始化",4:"未审核"}}},created:function(){this.getInfo(this.$route.query.formNo,this.$route.query.formId)},methods:{getInfo:function(t,s){var a=this;console.log(t,s),this.$http.get("/haolifa/flowInstance/flow/progress?formNo=".concat(t,"&formId=").concat(s)).then((function(t){console.log(t),a.list=t})).catch((function(t){a.$toast(t.msg||t.message)}))}}},o=n,r=(a("c90b"),a("2877")),c=Object(r["a"])(o,e,i,!1,null,null,null);s["default"]=c.exports},"952f":function(t,s,a){"use strict";a("3c35")},"9b68":function(t,s,a){"use strict";var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"data-list relative f-12"},[s("transition",{attrs:{name:"slide-y"}},[t.list.length?s("table",{staticClass:"data-table"},[t._t("header",(function(){return[s("tr",[s("th",[t._v("表头1")]),s("th",[t._v("表头2")])])]})),t._l(t.list,(function(a,e){return s("tr",{key:a.id},[t._t("item",(function(){return[s("td",[t._v("数据1")]),s("td",[t._v("数据2")])]}),{i:e,item:a,index:(t.pageNum-1)*t.pageSize+e+1})],2)}))],2):t._e()]),s("div",{staticClass:"flex-v-center",staticStyle:{"margin-top":"10px"}},[t.list.length?s("pagination",{staticClass:"mr-20",attrs:{page:t.pageNum,size:t.pageSize,total:t.total},on:{change:t.getList}}):t._e(),t.total?s("span",{staticClass:"f-12 c-6"},[t._v("共 "+t._s(t.total)+" 条数据")]):t._e()],1),t.list.length||t.loading?t._e():s("div",{staticStyle:{"margin-top":"100px"}},[s("no-data")],1)],1)},i=[];a("c5f6"),a("ac6a"),a("456d");function n(t){return"?"+Object.keys(t).map((function(s){return encodeURIComponent(s)+"="+encodeURIComponent(t[s])})).join("&")}var o={name:"data-list",props:{method:{type:String,default:"get"},url:{type:String,default:""},pageSize:{type:Number,default:20},param:{type:Object,default:function(){}},pageNumStr:{type:String,default:"pageNum"}},data:function(){return{pageNum:1,total:0,loading:!1,list:[]}},watch:{url:function(){this.update()},mehtod:function(){this.update()},pageSize:function(){this.update()},param:function(){this.update()}},created:function(){this.pageNum=this.$route.query.page||1,this.getList(this.pageNum)},methods:{getList:function(t){var s=this,a=this.method,e=this.url,i=this.pageSize,o=this.param;if(e){this.loading=!0;var r={pageSize:i};r[this.pageNumStr]=t;var c=Object.assign(r,o),l="get"===a?e+n(c):e;this.$http[a](l,c).then((function(t){s.list=t.list||[],s.pageNum=t.pageNum;var a=s.$route.query;a.page=t.pageNum,s.$router.push({path:s.$route.path,query:a}),s.total=t.total,s.loading=!1})).catch((function(t){s.loading=!1,s.$toast(t.message||t.msg||t)}))}},update:function(t){this.getList(t?1:this.pageNum)}}},r=o,c=(a("952f"),a("2877")),l=Object(c["a"])(r,e,i,!1,null,null,null);s["a"]=l.exports},a56d:function(t,s,a){},ae27:function(t,s,a){"use strict";a.r(s);a("4917");var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"page-supplier-info abs scroll-y"},[s("div",{staticClass:"form-content"},[t._m(0),t.info.id?t._e():s("no-data",{staticStyle:{margin:"50px 0"}}),t.info.id?s("table",{staticClass:"f-14"},[t._m(1),t._m(2),s("tr",[s("th",{attrs:{colspan:"1"}},[t._v("企业名称：")]),s("td",{attrs:{colspan:"9"}},[t._v(t._s(t.info.suppilerName))])]),s("tr",[s("th",{attrs:{colspan:"1"}},[t._v("企业性质：")]),s("td",{attrs:{colspan:"2"}},[t._v(t._s(t.natureList[t.info.nature]))]),s("th",{attrs:{colspan:"1"}},[t._v("地址：")]),s("td",{attrs:{colspan:"6"}},[t._v(t._s(t.info.address))])]),s("tr",[s("th",{attrs:{colspan:"1"}},[t._v("企业网址：")]),s("td",{attrs:{colspan:"2"}},[t._v(t._s(t.info.website))]),s("th",{attrs:{colspan:"1"}},[t._v("企业电话：")]),s("td",{attrs:{colspan:"2"}},[t._v(t._s(t.info.phone))]),s("th",{attrs:{colspan:"1"}},[t._v("邮编：")]),s("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.postcode))]),s("th",{attrs:{colspan:"1"}},[t._v("传真：")]),s("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.fax))])]),s("tr",[s("th",{attrs:{colspan:"1"}},[t._v("法人姓名：")]),s("td",{attrs:{colspan:"2"}},[t._v(t._s(t.info.legalPerson))]),s("th",{attrs:{colspan:"1"}},[t._v("法人电话：")]),s("td",{attrs:{colspan:"2"}},[t._v(t._s(t.info.legalPersonPhone))]),s("th",{attrs:{colspan:"1"}},[t._v("供应商提供产品：")]),s("td",{attrs:{colspan:"3"}},[t._v(t._s(t.info.supplierProduct))])]),s("tr",[s("th",{attrs:{colspan:"1"}},[t._v("工厂总面积：")]),s("td",{attrs:{colspan:"2"}},[t._v("\n                    "+t._s(t.info.totalFactoryArea)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("平米")])]),s("th",{attrs:{colspan:"1"}},[t._v("建筑面积：")]),s("td",{attrs:{colspan:"2"}},[t._v("\n                    "+t._s(t.info.totalArchitArea)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("平米")])]),s("th",{attrs:{colspan:"1"}},[t._v("班次：")]),s("td",{attrs:{colspan:"3"}},[t._v(t._s(t.workTypeList[t.info.workType]))])]),s("tr",[s("th",{attrs:{colspan:"1"}},[t._v("工艺路线：")]),s("td",{attrs:{colspan:"9"}},[t._v(t._s(t.info.processRoute))])]),s("tr",[s("th",{attrs:{colspan:"1"}},[t._v("供应商评价：")]),s("td",{attrs:{colspan:"9"}},[t._v(t._s(t.info.evaluation))])]),s("tr",[s("th",{attrs:{colspan:"1"}},[t._v("供应商编号：")]),s("td",{attrs:{colspan:"5"}},[t._v(t._s(t.info.suppilerNo))]),s("th",{attrs:{colspan:"1"}},[t._v("填表人：")]),s("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.suppilerPreparer))]),s("th",{attrs:{colspan:"1"}},[t._v("负责人：")]),s("td",{attrs:{colspan:"1"}},[t._v(t._s(t.info.responsiblePerson))])]),t._m(3),t._l(t.info.accessories,(function(a,e){return s("tr",{key:e},[s("td",{attrs:{colspan:"6"}},[t._v(t._s(a.fileName))]),s("td",{attrs:{colspan:"6"}},[a.fileUrl.match(".(pdf|jpe?g|png|bmp)$")?s("a",{attrs:{target:"_blank",href:a.fileUrl}},[t._v("预览")]):t._e(),a.fileUrl.match(".(pdf|jpe?g|png|bmp)$")?t._e():s("a",{attrs:{target:"_blank",href:"http://view.officeapps.live.com/op/view.aspx?src="+a.fileUrl}},[t._v("预览")])])])})),0==t.info.accessories.length?s("tr",[s("td",{attrs:{colspan:"10"}},[t._v("无")])]):t._e(),t._m(4),s("tr",[s("th",{attrs:{colspan:"1"}},[t._v("员工总人数：")]),s("td",{attrs:{colspan:"1"}},[t._v("\n                    "+t._s(t.info.staffInfo.totalWorkers)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("人")])]),s("th",{attrs:{colspan:"1"}},[t._v("管理人员：")]),s("td",{attrs:{colspan:"1"}},[t._v("\n                    "+t._s(t.info.staffInfo.managerWorkers)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("人")])]),s("th",{attrs:{colspan:"1"}},[t._v("生产工人：")]),s("td",{attrs:{colspan:"1"}},[t._v("\n                    "+t._s(t.info.staffInfo.productionWorkers)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("人")])]),s("th",{attrs:{colspan:"1"}},[t._v("技术人员：")]),s("td",{attrs:{colspan:"1"}},[t._v("\n                    "+t._s(t.info.staffInfo.technicistWorkers)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("人")])]),s("td",{attrs:{colspan:"2"}})]),t._m(5),s("tr",[s("td",{attrs:{colspan:"10"}},[s("div",{staticClass:"flex checkbox-list"},[s("div",{staticClass:"flex-v-center checkbox-item"},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.credentialsInfo.charter?"check_box":"check_box_outline_blank"))]),s("span",[t._v("营业执照")])]),s("div",{staticClass:"flex-v-center checkbox-item"},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.credentialsInfo.tax?"check_box":"check_box_outline_blank"))]),s("span",[t._v("税务登记证书")])]),s("div",{staticClass:"flex-v-center checkbox-item"},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.credentialsInfo.legalPersonCode?"check_box":"check_box_outline_blank"))]),s("span",[t._v("法人代码证书")])]),s("div",{staticClass:"flex-v-center checkbox-item"},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.credentialsInfo.bankOpenAccount?"check_box":"check_box_outline_blank"))]),s("span",[t._v("银行开户声明")])]),s("div",{staticClass:"flex-v-center checkbox-item"},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.credentialsInfo.credibilityLetter?"check_box":"check_box_outline_blank"))]),s("span",[t._v("银行资信证明")])]),s("div",{staticClass:"flex-v-center checkbox-item"},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.credentialsInfo.manufacturerAuthorization?"check_box":"check_box_outline_blank"))]),s("span",[t._v("制造商授权证书")])]),s("div",{staticClass:"flex-v-center checkbox-item"},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.credentialsInfo.productCertification?"check_box":"check_box_outline_blank"))]),s("span",[t._v("产品鉴定证书")])]),s("div",{staticClass:"flex-v-center checkbox-item"},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.credentialsInfo.productPermit?"check_box":"check_box_outline_blank"))]),s("span",[t._v("生产许可证书")])]),s("div",{staticClass:"flex-v-center checkbox-item"},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.credentialsInfo.importAndExportCertification?"check_box":"check_box_outline_blank"))]),s("span",[t._v("进出口企业资格证书")])]),s("div",{staticClass:"flex-v-center checkbox-item"},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.credentialsInfo.otherCertification?"check_box":"check_box_outline_blank"))]),s("span",[t._v("相关体系认证证书")])])])])]),t._m(6),s("tr",[s("td",{attrs:{colspan:"5"}},[s("div",{staticClass:"flex checkbox-list"},[s("div",{staticClass:"flex-v-center checkbox-item",staticStyle:{width:"180px"}},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.qualityAssuranceInfo.buildQualitySystem?"check_box":"check_box_outline_blank"))]),s("span",[t._v("是否建立质量保障体系")])]),s("div",{staticClass:"flex-v-center checkbox-item"},[s("i",{staticClass:"icon f-18 mr-5"},[t._v(t._s(t.info.qualityAssuranceInfo.passThirdAttestation?"check_box":"check_box_outline_blank"))]),s("span",[t._v("是否通过第三方认证")])])])]),s("th",{attrs:{colspan:"2"}},[t._v("第二方确认单位：")]),s("td",{attrs:{colspan:"3"}},[t._v(t._s(t.info.qualityAssuranceInfo.secondConfirm))])]),t._m(7),s("tr",[s("th",{attrs:{colspan:"1"}},[t._v("企业净值：")]),s("td",{attrs:{colspan:"2"}},[t._v("\n                    "+t._s(t.info.financialInfo.netWorth)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("万元")])]),s("th",{attrs:{colspan:"1"}},[t._v("目前负债：")]),s("td",{attrs:{colspan:"2"}},[t._v("\n                    "+t._s(t.info.financialInfo.liabilities)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("万元")])]),s("th",{attrs:{colspan:"1"}},[t._v("目前资产：")]),s("td",{attrs:{colspan:"3"}},[t._v("\n                    "+t._s(t.info.financialInfo.asset)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("万元")])])]),t._m(8),t._l(t.info.financialInfo.businessStateList,(function(a){return s("tr",{key:a.id},[s("td",{attrs:{colspan:"1"}},[t._v("\n                    "+t._s(a.year)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("年")])]),s("th",{attrs:{colspan:"1"}},[t._v("年销售额：")]),s("td",{attrs:{colspan:"2"}},[t._v("\n                    "+t._s(a.sale)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("万元")])]),s("th",{attrs:{colspan:"1"}},[t._v("利润：")]),s("td",{attrs:{colspan:"2"}},[t._v("\n                    "+t._s(a.profit)+"\n                    "),s("span",{staticClass:"f-12 c-8"},[t._v("万元")])]),s("th",{attrs:{colspan:"1"}},[t._v("备注：")]),s("td",{attrs:{colspan:"2"}},[t._v(t._s(a.desc))])])})),t._m(9),t._l(t.info.mainOrgan,(function(a){return s("tr",{key:a.id},[s("th",{attrs:{colspan:"1"}},[t._v("部门名称：")]),s("td",{attrs:{colspan:"2"}},[t._v(t._s(a.department))]),s("th",{attrs:{colspan:"1"}},[t._v("负责人：")]),s("td",{attrs:{colspan:"1"}},[t._v(t._s(a.leader))]),s("th",{attrs:{colspan:"1"}},[t._v("电话：")]),s("td",{attrs:{colspan:"2"}},[t._v(t._s(a.phone))]),s("th",{attrs:{colspan:"1"}},[t._v("传真：")]),s("td",{attrs:{colspan:"1"}},[t._v(t._s(a.fax))])])}))],2):t._e()],1)])},i=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"b f-18 flex-v-center",staticStyle:{"margin-bottom":"20px"}},[s("div",{staticClass:"flex-item"},[t._v("供应商详情")])])},function(){var t=this,s=t._self._c;return s("tr",[s("td",{staticStyle:{width:"10%"}}),s("td",{staticStyle:{width:"10%"}}),s("td",{staticStyle:{width:"10%"}}),s("td",{staticStyle:{width:"10%"}}),s("td",{staticStyle:{width:"10%"}}),s("td",{staticStyle:{width:"10%"}}),s("td",{staticStyle:{width:"10%"}}),s("td",{staticStyle:{width:"10%"}}),s("td",{staticStyle:{width:"10%"}}),s("td",{staticStyle:{width:"10%"}})])},function(){var t=this,s=t._self._c;return s("tr",[s("td",{staticClass:"b",attrs:{colspan:"10"}},[t._v("基本情况")])])},function(){var t=this,s=t._self._c;return s("tr",[s("td",{staticClass:"b",attrs:{colspan:"10"}},[t._v("供应商附件")])])},function(){var t=this,s=t._self._c;return s("tr",[s("td",{staticClass:"b",attrs:{colspan:"10"}},[t._v("员工情况")])])},function(){var t=this,s=t._self._c;return s("tr",[s("td",{staticClass:"b",attrs:{colspan:"10"}},[t._v("资格证书")])])},function(){var t=this,s=t._self._c;return s("tr",[s("td",{staticClass:"b",attrs:{colspan:"10"}},[t._v("质量保障体系")])])},function(){var t=this,s=t._self._c;return s("tr",[s("td",{staticClass:"b",attrs:{colspan:"10"}},[t._v("财务状况")])])},function(){var t=this,s=t._self._c;return s("tr",[s("td",{staticClass:"b",attrs:{colspan:"10"}},[t._v("近三年经营情况")])])},function(){var t=this,s=t._self._c;return s("tr",[s("td",{staticClass:"b",attrs:{colspan:"10"}},[t._v("主要机构")])])}],n=(a("6b54"),a("ac6a"),a("8f5f")),o={name:"page-supplier-info",data:function(){return{loading:!1,natureList:["国有","三资","集体","联营","私营"],workTypeList:["正常","两班倒","三班倒"],info:{}}},activated:function(){this.getInfo()},methods:{getInfo:function(){var t=this,s=this.$route.params.id;this.$http.get("/haolifa/supplier/info?id=".concat(s)).then((function(s){s=Object(n["a"])(s,["credentialsInfo","financialInfo","mainOrgan","qualityAssuranceInfo","staffInfo"]),s.mainOrgan&&s.mainOrgan.length&&s.mainOrgan.forEach((function(t){t.id=Math.random()})),s.financialInfo&&s.financialInfo.businessStateList&&s.financialInfo.businessStateList.length&&s.financialInfo.businessStateList.forEach((function(t){t.id=Math.random().toString()})),t.info=s})).catch((function(s){t.$toast(s.msg)}))}}},r=o,c=(a("b60a"),a("2877")),l=Object(c["a"])(r,e,i,!1,null,null,null);s["default"]=l.exports},b60a:function(t,s,a){"use strict";a("4832")},c7a6:function(t,s,a){"use strict";a("c829")},c829:function(t,s,a){},c90b:function(t,s,a){"use strict";a("41bb")},cc4b:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"page-supplier-manage flex-col"},[s("i",{staticClass:"icon icon-abs",on:{click:t.flush}},[t._v("autorenew")]),s("div",{staticClass:"flex-v-center tool-bar"},[s("div",{staticClass:"flex-v-center search-bar",staticStyle:{"margin-right":"20px"}},[s("i",{staticClass:"icon f-20 c-8"},[t._v("search")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.supplierName,expression:"filter.supplierName"}],staticClass:"flex-item",staticStyle:{width:"200px"},attrs:{type:"text",placeholder:"供应商名称"},domProps:{value:t.filter.supplierName},on:{change:function(s){return t.$refs.list.update(!0)},input:function(s){s.target.composing||t.$set(t.filter,"supplierName",s.target.value)}}})]),s("div",{staticClass:"flex-item"}),s("router-link",{attrs:{to:"/supplier/add"}},[s("btn",{staticClass:"b",attrs:{flat:"",color:"#008eff"}},[t._v("新增供应商")])],1)],1),s("div",{staticClass:"flex-item scroll-y"},[s("data-list",{ref:"list",attrs:{method:"post",pageSize:15,param:t.filter,url:"/haolifa/supplier/list"},scopedSlots:t._u([{key:"item",fn:function(a){var e=a.item,i=a.index;return[s("td",[t._v(t._s(i))]),s("td",[s("router-link",{staticClass:"c-4",attrs:{to:"/supplier/"+e.id}},[t._v(t._s(e.suppilerName))])],1),s("td",[t._v(t._s(e.suppilerNo))]),s("td",[t._v(t._s(e.website))]),s("td",[t._v(t._s(t.natureList[e.nature]))]),s("td",[t._v(t._s(e.legalPerson))]),s("td",[t._v(t._s(e.phone))]),s("td",[t._v(t._s(t.isQualifiedStatusList[e.isQualified].text))]),s("td",{staticClass:"t-right"},[s("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){return t.edit(e)}}},[t._v("编辑")]),t._v(" |\n                    "),s("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){return t.infoDetail(e)}}},[t._v("详情")]),t._v(" |\n                    "),s("a",{staticClass:"red",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){return t.remove(e)}}},[t._v("删除")]),t._v(" |\n                    "),1==e.isQualified||2==e.isQualified?s("a",{staticClass:"blue",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){return t.auditAccessoryInfo(e.suppilerNo)}}},[t._v("审批附件")]):t._e(),0==e.isQualified?s("a",{staticClass:"red",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){return t.approveSupplier(e.suppilerNo)}}},[t._v("发起审批")]):t._e(),3==e.isQualified?s("a",{staticClass:"red",staticStyle:{"margin-right":"3px"},attrs:{href:"javascript:;"},on:{click:function(s){return t.approving(e.suppilerNo)}}},[t._v("审批进度")]):t._e()])]}}])},[s("tr",{attrs:{slot:"header"},slot:"header"},[s("th",{staticStyle:{width:"60px"}},[t._v("序号")]),s("th",[t._v("企业名称")]),s("th",[t._v("编号")]),s("th",[t._v("网址")]),s("th",[t._v("企业性质")]),s("th",[t._v("法人")]),s("th",[t._v("电话")]),s("th",[t._v("是否合格")]),s("th",{staticClass:"t-right",staticStyle:{width:"80px"}},[t._v("操作")])])])],1)])},i=[],n=a("9b68"),o={name:"page-supplier-manage",components:{DataList:n["a"]},data:function(){return{filter:{supplierName:"",supplierNo:""},natureList:["国有","三资","集体","联营","私营"],isQualifiedStatusList:[{value:0,text:"待评定"},{value:1,text:"合格"},{value:2,text:"不合格"},{value:3,text:"评定中"}]}},methods:{flush:function(){this.filter={supplierName:"",supplierNo:""},this.$refs.list.update(!0)},auditAccessoryInfo:function(t){console.log("accessory-info",t),this.$router.push("/supplier/accessory-info?formNo=".concat(t))},approving:function(t){this.$router.push("/supplier/approveProgress?formNo=".concat(t,"&formId=0"))},approveSupplier:function(t){var s=this;this.$http.post("/haolifa/supplier/approve/".concat(t)).then((function(t){s.$refs.list.update(!0),s.$toast("成功发起")})).catch((function(t){s.$toast(t.msg||t.message)}))},edit:function(t){this.$router.push("/supplier/edit?id=".concat(t.id))},infoDetail:function(t){this.$router.push("/supplier/".concat(t.id))},remove:function(t){var s=this;this.$confirm({title:"删除确认",text:"您确定要删除以下供应商吗？<br><b>".concat(t.suppilerName,"</b>"),color:"red",btns:["取消","删除"],yes:function(){s.$http.get("/haolifa/supplier/delete?id=".concat(t.id)).then((function(t){s.$toast("删除成功"),s.$refs.list.update(!0)})).catch((function(t){s.$toast(t.msg||t.message)}))}})}}},r=o,c=(a("8dc2"),a("2877")),l=Object(c["a"])(r,e,i,!1,null,null,null);s["default"]=l.exports},efcc:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"page-supplier-add abs scroll-y"},[s("div",{staticClass:"form-content"},[s("div",{staticClass:"title b f-18"},[t._v(t._s(t.form.id?"编辑":"新增")+"供应商")]),s("div",{staticClass:"flex-v-center"},[s("input-box",{staticClass:"flex-item",attrs:{label:"企业名称"},model:{value:t.form.suppilerName,callback:function(s){t.$set(t.form,"suppilerName",s)},expression:"form.suppilerName"}})],1),s("div",{staticClass:"flex-v-center"},[s("select-box",{staticClass:"mr-20",attrs:{label:"企业性质",list:t.natureList},model:{value:t.form.nature,callback:function(s){t.$set(t.form,"nature",s)},expression:"form.nature"}}),s("input-box",{staticClass:"flex-item",attrs:{label:"地址"},model:{value:t.form.address,callback:function(s){t.$set(t.form,"address",s)},expression:"form.address"}})],1),s("div",{staticClass:"flex"},[s("input-box",{staticClass:"flex-item mr-20",attrs:{label:"企业网址"},model:{value:t.form.website,callback:function(s){t.$set(t.form,"website",s)},expression:"form.website"}}),s("input-box",{staticClass:"flex-item mr-20",attrs:{label:"企业电话"},model:{value:t.form.phone,callback:function(s){t.$set(t.form,"phone",s)},expression:"form.phone"}}),s("input-box",{staticClass:"flex-item mr-20",attrs:{type:"number",label:"邮编"},model:{value:t.form.postcode,callback:function(s){t.$set(t.form,"postcode",s)},expression:"form.postcode"}}),s("input-box",{staticClass:"flex-item",attrs:{label:"传真"},model:{value:t.form.fax,callback:function(s){t.$set(t.form,"fax",s)},expression:"form.fax"}})],1),s("div",{staticClass:"flex-v-center"},[s("input-box",{staticClass:"mr-20",attrs:{label:"法人姓名"},model:{value:t.form.legalPerson,callback:function(s){t.$set(t.form,"legalPerson",s)},expression:"form.legalPerson"}}),s("input-box",{staticClass:"mr-20",attrs:{label:"法人电话"},model:{value:t.form.legalPersonPhone,callback:function(s){t.$set(t.form,"legalPersonPhone",s)},expression:"form.legalPersonPhone"}}),s("input-box",{staticClass:"flex-item",attrs:{label:"供应商提供产品"},model:{value:t.form.supplierProduct,callback:function(s){t.$set(t.form,"supplierProduct",s)},expression:"form.supplierProduct"}})],1),s("div",{staticClass:"flex-v-center"},[s("input-box",{attrs:{type:"number",label:"工厂总面积"},model:{value:t.form.totalFactoryArea,callback:function(s){t.$set(t.form,"totalFactoryArea",s)},expression:"form.totalFactoryArea"}}),s("span",{staticClass:"mr-20"},[t._v("平米")]),s("input-box",{attrs:{type:"number",label:"建筑物面积"},model:{value:t.form.totalArchitArea,callback:function(s){t.$set(t.form,"totalArchitArea",s)},expression:"form.totalArchitArea"}}),s("span",{staticClass:"mr-20"},[t._v("平米")]),s("select-box",{attrs:{label:"班次",list:t.workTypeList},model:{value:t.form.workType,callback:function(s){t.$set(t.form,"workType",s)},expression:"form.workType"}})],1),s("div",{staticClass:"flex-v-center"},[s("input-box",{staticClass:"flex-item",attrs:{label:"工艺路线"},model:{value:t.form.processRoute,callback:function(s){t.$set(t.form,"processRoute",s)},expression:"form.processRoute"}})],1),s("div",{staticClass:"flex-v-center"},[s("input-box",{staticClass:"flex-item",attrs:{label:"供应商评价"},model:{value:t.form.evaluation,callback:function(s){t.$set(t.form,"evaluation",s)},expression:"form.evaluation"}})],1),s("div",{staticClass:"flex-v-center"},[s("input-box",{staticClass:"mr-20",staticStyle:{width:"240px"},attrs:{label:"供应商编号"},model:{value:t.form.suppilerNo,callback:function(s){t.$set(t.form,"suppilerNo",s)},expression:"form.suppilerNo"}}),s("input-box",{staticClass:"mr-20",attrs:{label:"填表人"},model:{value:t.form.suppilerPreparer,callback:function(s){t.$set(t.form,"suppilerPreparer",s)},expression:"form.suppilerPreparer"}}),s("input-box",{attrs:{label:"负责人"},model:{value:t.form.responsiblePerson,callback:function(s){t.$set(t.form,"responsiblePerson",s)},expression:"form.responsiblePerson"}})],1),s("div",{staticClass:"flex"},[s("upload-box",{staticStyle:{width:"50%"},attrs:{btnText:"供应商附件上传",fileList:t.fileList,multiple:t.multiple,onchange:t.uploadFile,onremove:t.removeFile}})],1),s("div",{staticClass:"f-14 c-6 b",staticStyle:{margin:"25px 0 0"}},[t._v("员工情况")]),s("div",{staticClass:"flex-v-center"},[s("input-box",{attrs:{type:"number",label:"员工总人数"},model:{value:t.form.staffInfo.totalWorkers,callback:function(s){t.$set(t.form.staffInfo,"totalWorkers",s)},expression:"form.staffInfo.totalWorkers"}}),s("span",{staticClass:"mr-20"},[t._v("人")]),s("input-box",{attrs:{type:"number",label:"管理人员"},model:{value:t.form.staffInfo.managerWorkers,callback:function(s){t.$set(t.form.staffInfo,"managerWorkers",s)},expression:"form.staffInfo.managerWorkers"}}),s("span",{staticClass:"mr-20"},[t._v("人")]),s("input-box",{attrs:{type:"number",label:"生产工人"},model:{value:t.form.staffInfo.productionWorkers,callback:function(s){t.$set(t.form.staffInfo,"productionWorkers",s)},expression:"form.staffInfo.productionWorkers"}}),s("span",{staticClass:"mr-20"},[t._v("人")]),s("input-box",{attrs:{type:"number",label:"技术人员"},model:{value:t.form.staffInfo.technicistWorkers,callback:function(s){t.$set(t.form.staffInfo,"technicistWorkers",s)},expression:"form.staffInfo.technicistWorkers"}}),s("span",[t._v("人")])],1),s("div",[s("div",{staticClass:"f-14 c-6 b",staticStyle:{margin:"25px 0 10px"}},[t._v("资格证书")]),s("div",{staticClass:"credentials-form"},[s("check-box",{attrs:{name:"credentials",text:"营业执照"},model:{value:t.form.credentialsInfo.charter,callback:function(s){t.$set(t.form.credentialsInfo,"charter",s)},expression:"form.credentialsInfo.charter"}}),s("check-box",{attrs:{name:"credentials",text:"税务登记证书"},model:{value:t.form.credentialsInfo.tax,callback:function(s){t.$set(t.form.credentialsInfo,"tax",s)},expression:"form.credentialsInfo.tax"}}),s("check-box",{attrs:{name:"credentials",text:"法人代码证书"},model:{value:t.form.credentialsInfo.legalPersonCode,callback:function(s){t.$set(t.form.credentialsInfo,"legalPersonCode",s)},expression:"form.credentialsInfo.legalPersonCode"}}),s("check-box",{attrs:{name:"credentials",text:"银行开户声明"},model:{value:t.form.credentialsInfo.bankOpenAccount,callback:function(s){t.$set(t.form.credentialsInfo,"bankOpenAccount",s)},expression:"form.credentialsInfo.bankOpenAccount"}}),s("check-box",{attrs:{name:"credentials",text:"银行资信证明"},model:{value:t.form.credentialsInfo.credibilityLetter,callback:function(s){t.$set(t.form.credentialsInfo,"credibilityLetter",s)},expression:"form.credentialsInfo.credibilityLetter"}}),s("check-box",{attrs:{name:"credentials",text:"制造商授权证书"},model:{value:t.form.credentialsInfo.manufacturerAuthorization,callback:function(s){t.$set(t.form.credentialsInfo,"manufacturerAuthorization",s)},expression:"form.credentialsInfo.manufacturerAuthorization"}}),s("check-box",{attrs:{name:"credentials",text:"产品鉴定证书"},model:{value:t.form.credentialsInfo.productCertification,callback:function(s){t.$set(t.form.credentialsInfo,"productCertification",s)},expression:"form.credentialsInfo.productCertification"}}),s("check-box",{attrs:{name:"credentials",text:"生产许可证书"},model:{value:t.form.credentialsInfo.productPermit,callback:function(s){t.$set(t.form.credentialsInfo,"productPermit",s)},expression:"form.credentialsInfo.productPermit"}}),s("check-box",{attrs:{name:"credentials",text:"进出口企业资格证书"},model:{value:t.form.credentialsInfo.importAndExportCertification,callback:function(s){t.$set(t.form.credentialsInfo,"importAndExportCertification",s)},expression:"form.credentialsInfo.importAndExportCertification"}}),s("check-box",{attrs:{name:"credentials",text:"相关体系认证证书"},model:{value:t.form.credentialsInfo.otherCertification,callback:function(s){t.$set(t.form.credentialsInfo,"otherCertification",s)},expression:"form.credentialsInfo.otherCertification"}})],1)]),s("div",[s("div",{staticClass:"f-14 c-6 b",staticStyle:{margin:"25px 0 0"}},[t._v("质量保障体系")]),s("div",{staticClass:"flex-v-center"},[s("check-box",{staticClass:"mr-20",attrs:{name:"qualityAssurance",text:"是否建立质量保障体系"},model:{value:t.form.qualityAssuranceInfo.buildQualitySystem,callback:function(s){t.$set(t.form.qualityAssuranceInfo,"buildQualitySystem",s)},expression:"form.qualityAssuranceInfo.buildQualitySystem"}}),s("check-box",{staticClass:"mr-20",attrs:{name:"qualityAssurance",text:"是否通过第三方认证"},model:{value:t.form.qualityAssuranceInfo.passThirdAttestation,callback:function(s){t.$set(t.form.qualityAssuranceInfo,"passThirdAttestation",s)},expression:"form.qualityAssuranceInfo.passThirdAttestation"}}),s("input-box",{staticClass:"flex-item",attrs:{label:"第二方确认单位"},model:{value:t.form.qualityAssuranceInfo.secondConfirm,callback:function(s){t.$set(t.form.qualityAssuranceInfo,"secondConfirm",s)},expression:"form.qualityAssuranceInfo.secondConfirm"}})],1)]),s("div",{staticClass:"f-14 c-6 b",staticStyle:{margin:"25px 0 0"}},[t._v("财务状况")]),s("div",{staticClass:"flex-v-center"},[s("input-box",{attrs:{type:"number",label:"企业净值"},model:{value:t.form.financialInfo.netWorth,callback:function(s){t.$set(t.form.financialInfo,"netWorth",s)},expression:"form.financialInfo.netWorth"}}),s("span",{staticClass:"mr-20"},[t._v("万元")]),s("input-box",{attrs:{type:"number",label:"目前负债"},model:{value:t.form.financialInfo.liabilities,callback:function(s){t.$set(t.form.financialInfo,"liabilities",s)},expression:"form.financialInfo.liabilities"}}),s("span",{staticClass:"mr-20"},[t._v("万元")]),s("input-box",{attrs:{type:"number",label:"目前资产"},model:{value:t.form.financialInfo.asset,callback:function(s){t.$set(t.form.financialInfo,"asset",s)},expression:"form.financialInfo.asset"}}),s("span",[t._v("万元")])],1),s("div",{staticClass:"f-14 c-6 b",staticStyle:{margin:"10px 0 5px"}},[t._v("近三年经营情况")]),t._l(t.form.financialInfo.businessStateList,(function(a,e){return s("div",{key:a.id,staticClass:"flex-v-center"},[s("select-box",{staticClass:"mr-20",attrs:{label:"年份",list:t.yearList},model:{value:a.year,callback:function(s){t.$set(a,"year",s)},expression:"item.year"}}),s("input-box",{attrs:{type:"number",label:"年销售额"},model:{value:a.sale,callback:function(s){t.$set(a,"sale",s)},expression:"item.sale"}}),s("span",{staticClass:"mr-20"},[t._v("万元")]),s("input-box",{attrs:{type:"number",label:"利润"},model:{value:a.profit,callback:function(s){t.$set(a,"profit",s)},expression:"item.profit"}}),s("span",{staticClass:"mr-20"},[t._v("万元")]),s("input-box",{staticClass:"flex-item mr-20",attrs:{label:"备注"},model:{value:a.desc,callback:function(s){t.$set(a,"desc",s)},expression:"item.desc"}}),t.form.financialInfo.businessStateList.length>1?s("icon-btn",{attrs:{small:""},on:{click:function(s){return t.removeBusinessStateList(e)}}},[t._v("close")]):t._e()],1)})),s("div",[t.form.financialInfo.businessStateList.length<3?s("icon-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"添加经营情况",expression:"'添加经营情况'"}],attrs:{bg:"",small:""},on:{click:t.addBusinessStateList}},[t._v("add")]):t._e()],1),s("div",{staticClass:"f-14 c-6 b",staticStyle:{margin:"10px 0 5px"}},[t._v("主要机构")]),t._l(t.form.mainOrgan,(function(a,e){return s("div",{key:a.id,staticClass:"flex-v-center"},[s("input-box",{staticClass:"flex-item mr-20",attrs:{label:"部门名称"},model:{value:a.department,callback:function(s){t.$set(a,"department",s)},expression:"item.department"}}),s("input-box",{staticClass:"mr-20",attrs:{label:"负责人"},model:{value:a.leader,callback:function(s){t.$set(a,"leader",s)},expression:"item.leader"}}),s("input-box",{staticClass:"mr-20",attrs:{label:"电话"},model:{value:a.phone,callback:function(s){t.$set(a,"phone",s)},expression:"item.phone"}}),s("input-box",{staticClass:"mr-20",attrs:{label:"传真"},model:{value:a.fax,callback:function(s){t.$set(a,"fax",s)},expression:"item.fax"}}),t.form.mainOrgan.length>1?s("icon-btn",{attrs:{small:""},on:{click:function(s){return t.removeOragn(e)}}},[t._v("close")]):t._e()],1)})),s("div",[s("icon-btn",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"添加部门",expression:"'添加部门'"}],attrs:{bg:"",small:""},on:{click:t.addOragn}},[t._v("add")])],1),s("div",{staticClass:"flex-v-center",staticStyle:{margin:"20px 0"}},[s("btn",{staticClass:"mr-20",attrs:{big:""},on:{click:t.submit}},[t._v("提交")]),s("btn",{staticClass:"mr-20",attrs:{big:"",flat:"",bg:""},on:{click:t.cancel}},[t._v("取消")]),s("btn",{attrs:{big:"",flat:""},on:{click:t.clear}},[t._v("清空")])],1)],2),t.loading?s("layer",[s("div",{staticClass:"abs t-center",staticStyle:{padding:"20px"}},[s("loading",{attrs:{size:"30"}}),s("div",{staticStyle:{"margin-top":"10px"}},[t._v("正在保存")])],1)]):t._e()],1)},i=[],n=(a("ac6a"),a("75fc")),o=(a("7f7f"),a("153b")),r={id:"",suppilerName:"",address:"",nature:0,website:"",phone:"",postcode:"",supplierProduct:"",fax:"",legalPerson:"",legalPersonPhone:"",totalArchitArea:"",totalFactoryArea:"",workType:0,processRoute:"",evaluation:"",suppilerNo:"",suppilerPreparer:"",responsiblePerson:"",staffInfo:{managerWorkers:"",productionWorkers:"",technicistWorkers:"",totalWorkers:""},credentialsInfo:{bankOpenAccount:!1,charter:!1,credibilityLetter:!1,importAndExportCertification:!1,legalPersonCode:!1,manufacturerAuthorization:!1,otherCertification:!1,productCertification:!1,productPermit:!1,tax:!1},qualityAssuranceInfo:{buildQualitySystem:!1,passThirdAttestation:!1,secondConfirm:""},financialInfo:{asset:"",liabilities:"",netWorth:"",businessStateList:[{desc:"",profit:"",sale:"",year:""}]},mainOrgan:[{department:"",fax:"",leader:"",phone:""}]},c=a("8f5f"),l={name:"page-supplier-add",data:function(){for(var t=new Date,s=t.getFullYear(),a=[],e=0;e<4;e++)a.push({text:s-e,value:s-e+""});return{loading:!1,multiple:!0,fileList:[],accessories:[],workTypeList:[{text:"正常",value:0},{text:"两班倒",value:1},{text:"三班倒",value:2}],natureList:[{text:"国有",value:0},{text:"三资",value:1},{text:"集体",value:2},{text:"联营",value:3},{text:"私营",value:4}],yearList:a,form:JSON.parse(JSON.stringify(r))}},activated:function(){this.form=JSON.parse(JSON.stringify(r)),this.fileList=[],this.accessories=[];var t=this.$route.query.id;void 0!==t&&"supplier-edit"===this.$route.name&&this.getInfo(t)},mounted:function(){var t=this.$route.query.id;void 0!==t&&"supplier-edit"===this.$route.name&&this.getInfo(t)},methods:{addBusinessStateList:function(){this.form.financialInfo.businessStateList.push({desc:"",profit:"",sale:"",year:""})},removeBusinessStateList:function(t){this.form.financialInfo.businessStateList.splice(t,1)},addOragn:function(){this.form.mainOrgan.push({department:"",fax:"",leader:"",phone:""})},uploadFile:function(t,s){var a=this;this.loading=!0,this.loadingMsg="正在上传",Object(o["a"])(t.source).then((function(s){a.$http.post("/haolifa/file/uploadFileBase64",{base64Source:s,fileName:t.name}).then((function(s){a.accessories.push({fileName:t.name,fileUrl:s}),a.loading=!1})).catch((function(t){a.$toast(t.msg||t.message),a.loading=!1}))}))},removeFile:function(t,s){var a=this;return new Promise((function(t,e){a.accessories.splice(s,1),t()}))},removeOragn:function(t){this.form.mainOrgan.splice(t,1)},getInfo:function(t){var s=this;this.$http.get("/haolifa/supplier/info?id=".concat(t)).then((function(t){for(var a in t=Object(c["a"])(t,["credentialsInfo","financialInfo","mainOrgan","qualityAssuranceInfo","staffInfo"]),s.form)s.form[a]=t[a];s.accessories=Object(n["a"])(t.accessories),t.accessories.forEach((function(t){var a={name:t.fileName,size:"",type:"",status:"ready",url:t.fileUrl,uid:(new Date).getTime(),source:""};s.fileList.push(a)}))})).catch((function(t){s.$toast(t.msg||t.message)}))},submit:function(){var t=this,s=this.form;s.accessories=this.accessories;var a=s.id?"/supplier/edit":"/supplier/add";this.loading=!0,this.$http.post("/haolifa/supplier/".concat(s.id?"update":"save"),s).then((function(s){t.loading=!1,t.$toast("提交成功"),t.$store.commit("DELMENUTABS",a),t.$router.push("/supplier/addList")})).catch((function(s){t.loading=!1,t.$toast(s.msg||s.message)}))},cancel:function(){var t=this.form.id?"/supplier/edit":"/supplier/add";this.$store.commit("DELMENUTABS",t),this.$router.push("/supplier/addList")},clear:function(){var t=this;this.$confirm({text:"确定要清空表单吗？",color:"darkorange",btns:["取消","清空"],yes:function(){t.form=JSON.parse(JSON.stringify(r))}})}}},f=l,p=(a("c7a6"),a("2877")),u=Object(p["a"])(f,e,i,!1,null,null,null);s["default"]=u.exports}}]);
//# sourceMappingURL=supplieradd.2ede4e5b.js.map